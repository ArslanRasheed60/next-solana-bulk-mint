(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{27005:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});t(67294);var r=t(15861),i=t(12963),s=t(76638),o=t(87089),a=t(53439),c=t(41664),l=t.n(c),u=t(85893);function d(e){e.preventDefault(),console.info("You clicked a breadcrumb.")}function p(e){var n=e.parent,t=e.child;return(0,u.jsx)("div",{role:"presentation",onClick:d,children:(0,u.jsxs)(i.Z,{"aria-label":"breadcrumb",children:[(0,u.jsx)(l(),{href:"/home",children:(0,u.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",cursor:"pointer",textDecoration:"underline"},color:"inherit",children:[(0,u.jsx)(s.Z,{sx:{mr:.5},fontSize:"inherit"}),"Home"]})}),(0,u.jsx)(l(),{href:"/home",children:(0,u.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",cursor:"pointer",textDecoration:"underline"},color:"inherit",children:[(0,u.jsx)(o.Z,{sx:{mr:.5},fontSize:"inherit"}),n]})}),(0,u.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},color:"text.primary",children:[(0,u.jsx)(a.Z,{sx:{mr:.5},fontSize:"inherit"}),t]})]})})}},55318:function(e,n,t){"use strict";t.r(n);var r=t(50029),i=t(27812),s=t(16835),o=t(59499),a=t(87794),c=t.n(a),l=t(60452),u=t(91292),d=t(96059),p=t(11281),h=t(31812),f=t(90948),g=t(88441),x=t(28962),m=t(53156),j=t(26447),y=t(86886),v=t(99226),b=t(83321),Z=t(98456),w=t(76798),k=t(21737),P=t(59874),O=t(33941),C=t(27005),D=t(9008),S=t.n(D),E=t(11163),I=t(67294),z=t(3918),R=t(85893);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=(0,f.ZP)(g.Z)((function(e){var n,t=e.theme;return n={height:10,borderRadius:5},(0,o.Z)(n,"&.".concat(x.Z.colorPrimary),{backgroundColor:t.palette.grey["light"===t.palette.mode?200:800]}),(0,o.Z)(n,"& .".concat(x.Z.bar),{borderRadius:5,backgroundColor:(t.palette.mode,"#FBA722")}),n})),L=(0,P.Z)((function(e){return{container:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",animation:"$gradient 15s ".concat(e.transitions.easing.easeInOut," infinite"),minHeight:"100vh",padding:"4rem 0",flex:1,zIndex:1e3,backgroundSize:"400% 400%",position:"relative"},"@keyframes gradient":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}}}}));n.default=function(e){var n=I.useState(!1),t=(0,s.Z)(n,2),o=t[0],a=t[1],f=I.useState(!1),g=(0,s.Z)(f,2),x=g[0],P=g[1],D=I.useState(!1),N=(0,s.Z)(D,2),B=N[0],U=N[1],A=I.useState(!1),F=(0,s.Z)(A,2),K=F[0],V=F[1],H=I.useState(null),M=(0,s.Z)(H,2),Y=M[0],J=M[1],G=I.useState(null),X=(0,s.Z)(G,2),$=X[0],W=X[1],q=I.useState(!1),Q=(0,s.Z)(q,2),ee=Q[0],ne=Q[1],te=I.useState(!1),re=(0,s.Z)(te,2),ie=re[0],se=re[1],oe=I.useState({open:!1,message:"",severity:void 0}),ae=(0,s.Z)(oe,2),ce=ae[0],le=ae[1],ue=I.useState(0),de=(0,s.Z)(ue,2),pe=de[0],he=de[1],fe=I.useState({step:1,verifyLoader:!1}),ge=(0,s.Z)(fe,2),xe=ge[0],me=ge[1],je=I.useState([{id:(0,z.Ox)(5),msg:"$sugar mint\ud83c\udf6c",color:"white"}]),ye=(0,s.Z)(je,2),ve=ye[0],be=ye[1],Ze=I.useRef(null),we=I.useRef(null),ke=L(),Pe=(0,O.Os)(),Oe=(0,E.useRouter)(),Ce=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";be((function(t){return[].concat((0,i.Z)(t),[{id:(0,z.Ox)(5),msg:e,color:n}])}))},De=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.target.files[0];if("application/zip"!==t.type)return"application/json"===t.type&&n&&(W(t),V(!0)),le({message:"File must be ZIP format",open:!0,severity:"error"}),void U(!1);J(t),U(!0)},Se=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type){if(n)return void se(!0);ne(!0)}else if("dragleave"===e.type){if(n)return void se(!1);ne(!1)}},Ee=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]){var t=e.dataTransfer.files[0];if(console.log(t.type,"@type"),n&&"application/json"===t.type)return W(e.dataTransfer.files[0]),V(!0),void se(!1);if("application/zip"!==t.type)return console.log("sini"),le({message:"File must be ZIP format",open:!0,severity:"error"}),void U(!1);ne(!1),J(e.dataTransfer.files[0]),U(!0)}},Ie=function(){var e=(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{P(!0),n=new Blob([$],{type:"application/json"}),(t=new FileReader).addEventListener("load",function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.result,r=Pe.publicKey.toBase58(),e.next=4,fetch("/api/whitelist/files/upload?address=".concat(r,"&type=json&config=config&pk=").concat(t),{method:"POST"});case 4:200===e.sent.status?(P(!1),le({message:"Config uploaded!",open:!0,severity:"success"}),Oe.push("/multiple/home",void 0,{shallow:!1})):le({message:"Network Error",open:!0,severity:"error"});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),t.readAsText(n)}catch(i){P(!1),le({message:i.message||"Network Error",open:!0,severity:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a(!0),n=Pe.publicKey.toBase58(),(t=new FileReader).readAsDataURL(Y),t.onload=function(){var e=(0,r.Z)(c().mark((function e(r){var i,s,o,l,u,d,p,h,f,g,x,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.result.split(",").pop())){e.next=68;break}return e.next=4,fetch("/api/whitelist/files/zip?address=".concat(n,"&config=keypair"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64:i})});case 4:if(200!==(s=e.sent).status){e.next=63;break}return he(20),a(!1),le({message:"Upload Success",open:!0,severity:"success"}),me((function(e){return _(_({},e),{},{step:e.step+1})})),Ce("Verifying the assets"),me((function(e){return _(_({},e),{},{verifyLoader:!0})})),e.next=14,fetch("/api/whitelist/check-assets?type=version&address=".concat(Pe.publicKey.toBase58()));case 14:if(200!==(o=e.sent).status){e.next=57;break}return e.next=18,o.json();case 18:return l=e.sent,Ce(l.msg,"blue"),Ce("Verifying your assets ...","black"),e.next=23,fetch("/api/whitelist/check-assets?type=verify&address=".concat(Pe.publicKey.toBase58()));case 23:if(200!==(u=e.sent).status){e.next=50;break}return e.next=27,u.json();case 27:return d=e.sent,Ce(d.msg,d.msg.includes("look good.")?"green":"red"),Ce("Get your solana config ...","black"),he(40),e.next=33,fetch("/api/whitelist/check-assets?type=solana-config&address=".concat(Pe.publicKey.toBase58()));case 33:if(200!==(p=e.sent).status){e.next=43;break}return e.next=37,p.json();case 37:h=e.sent,Ce(h.msg),me((function(e){return _(_({},e),{},{verifyLoader:!1,step:e.step+1})})),he(45),e.next=48;break;case 43:return e.next=45,p.json();case 45:f=e.sent,Ce(f.msg,"red"),he(20);case 48:e.next=55;break;case 50:return e.next=52,u.json();case 52:g=e.sent,Ce(g.msg,"red"),he(20);case 55:e.next=61;break;case 57:return e.next=59,o.json();case 59:x=e.sent,Ce(x.msg,"red");case 61:e.next=68;break;case 63:return e.next=65,s.json();case 65:m=e.sent,a(!1),le({message:m.msg||"Network Error",open:!0,severity:"error"});case 68:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}catch(i){a(!1),le({message:i.message||"Network Error",open:!0,severity:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsxs)("div",{className:ke.container,children:[(0,R.jsx)(S(),{children:(0,R.jsx)("title",{children:"Upload"})}),(0,R.jsx)(m.Z,{children:(0,R.jsxs)(j.Z,{direction:"column",spacing:4,mt:3,children:[(0,R.jsx)(y.ZP,{item:!0,width:"100%",position:"relative",children:(0,R.jsxs)(j.Z,{direction:"column",spacing:0,width:"50%",sx:{zIndex:1e3,position:"fixed",top:20,boxShadow:5,bgcolor:"white",borderRadius:4,p:1},children:[(0,R.jsxs)("p",{style:{fontWeight:"bold",color:"#000"},children:["Your Progress | ",pe," %"]}),(0,R.jsx)(T,{variant:"determinate",value:pe})]})}),(0,R.jsxs)(v.Z,{sx:{width:"100%",bgcolor:"white",borderRadius:4,p:2},children:[(0,R.jsx)(C.Z,{child:"uploadAssets",parent:"mint"}),(0,R.jsx)("h2",{style:{color:"#303030"},children:"Let's upload your assets (.zip) \ud83d\uddbc"}),(0,R.jsxs)(y.ZP,{container:!0,direction:"column",spacing:1,children:[(0,R.jsx)(y.ZP,{item:!0,width:"100%",sx:{height:"auto"},children:(0,R.jsxs)(j.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,R.jsxs)(v.Z,{component:"div",sx:{p:2,border:"1px dashed grey",height:100,width:300,borderRadius:4,bgcolor:ee?"primary.light":"white"},display:"flex",justifyContent:"center",alignItems:"center",onDragEnter:Se,onDrop:Ee,onDragLeave:Se,onDragOver:Se,children:[(0,R.jsxs)("label",{id:"label-json",htmlFor:"json",children:[(0,R.jsx)(b.Z,{onClick:function(){return Ze.current.click()},children:B?"Change Assets":"Upload Assets"}),B&&(0,R.jsx)(b.Z,{sx:{color:"red"},onClick:function(){J(null),U(!1)},children:"Delete"})]}),(0,R.jsx)("input",{ref:Ze,onChange:De,accept:"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed",type:"file",style:{display:"none"},id:"json",multiple:!1})]}),null!==Y&&(0,R.jsx)(l.Z,{sx:{height:48,width:48}}),null!==Y&&(0,R.jsx)(v.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,R.jsxs)(j.Z,{direction:"column",spacing:2,children:[(0,R.jsx)(u.Z,{sx:{height:56,width:56}}),(0,R.jsx)("p",{children:Y.name})]})})]})}),null!==Y&&(0,R.jsx)(y.ZP,{item:!0,children:(0,R.jsx)(h.Z,{disabled:null===Y,onClick:ze,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.light"}},loading:o,children:"Upload zip"})})]})]}),xe.step>1&&(0,R.jsxs)(v.Z,{sx:{width:"100%",bgcolor:"white",borderRadius:4,p:2},children:[(0,R.jsx)(C.Z,{child:"VerifyAssets",parent:"mint"}),(0,R.jsx)("h2",{style:{color:"#303030"},children:"Verify your assets \u2705"}),(0,R.jsxs)(y.ZP,{container:!0,direction:"column",spacing:1,children:[(0,R.jsx)(y.ZP,{item:!0,width:"100%",sx:{height:"auto"},children:xe.verifyLoader?(0,R.jsxs)(j.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,R.jsx)(Z.Z,{}),(0,R.jsx)("p",{children:"Verifying your assets using"})]}):(0,R.jsxs)(j.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,R.jsx)(d.Z,{sx:{color:"green"}}),(0,R.jsx)("p",{children:"Your assets is ready!"})]})}),(0,R.jsx)(y.ZP,{item:!0,width:"100%",children:(0,R.jsx)(v.Z,{sx:{bgcolor:"#DEDEDE",width:"100%",p:2,borderRadius:2,maxHeight:200,overflowY:"scroll"},children:(0,R.jsx)(j.Z,{direction:"column",spacing:1,children:ve.map((function(e){return(0,R.jsx)("code",{style:{color:e.color},children:e.msg},e.id)}))})})})]})]}),xe.step>2&&(0,R.jsxs)(v.Z,{sx:{width:"100%",bgcolor:"white",borderRadius:4,p:2},children:[(0,R.jsx)(C.Z,{child:"UploadConfig",parent:"mint"}),(0,R.jsx)("h2",{style:{color:"#303030"},children:"Set your Candy Machine config \ud83c\udf6c"}),(0,R.jsxs)(y.ZP,{container:!0,direction:"column",spacing:1,children:[(0,R.jsx)(y.ZP,{item:!0,width:"100%",sx:{height:"auto"},children:(0,R.jsxs)(j.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,R.jsxs)(v.Z,{component:"div",sx:{p:2,border:"1px dashed grey",height:100,width:300,borderRadius:4,bgcolor:ie?"primary.light":"white"},display:"flex",justifyContent:"center",alignItems:"center",onDragEnter:function(e){return Se(e,!0)},onDrop:function(e){return Ee(e,!0)},onDragLeave:function(e){return Se(e,!0)},onDragOver:function(e){return Se(e,!0)},children:[(0,R.jsxs)("label",{id:"label-json",htmlFor:"json",children:[(0,R.jsx)(b.Z,{onClick:function(){return we.current.click()},children:K?"Change JSON Config":"Upload JSON Config"}),K&&(0,R.jsx)(b.Z,{sx:{color:"red"},onClick:function(){W(null),V(!1)},children:"Delete"})]}),(0,R.jsx)("input",{ref:we,onChange:function(e){return De(e,!0)},accept:"application/json",type:"file",style:{display:"none"},id:"json",multiple:!1})]}),null!==$&&(0,R.jsx)(l.Z,{sx:{height:48,width:48}}),null!==$&&(0,R.jsx)(v.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,R.jsxs)(j.Z,{direction:"column",spacing:2,alignItems:"center",children:[(0,R.jsx)(p.Z,{sx:{height:56,width:56}}),(0,R.jsx)("p",{children:$.name})]})})]})}),null!==$&&(0,R.jsx)(y.ZP,{item:!0,children:(0,R.jsx)(h.Z,{disabled:null===$,onClick:Ie,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.light"}},loading:x,children:"Upload Config"})})]})]})]})}),(0,R.jsx)(w.Z,{open:ce.open,autoHideDuration:void 0===ce.hideDuration?6e3:ce.hideDuration,onClose:function(){return le(_(_({},ce),{},{open:!1}))},children:(0,R.jsx)(k.Z,{onClose:function(){return le(_(_({},ce),{},{open:!1}))},severity:ce.severity,children:ce.message})})]})}},3918:function(e,n,t){"use strict";t.d(n,{Ox:function(){return i},aG:function(){return r}});t(48764).Buffer;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.length>n){var t=e.substring(0,n-1),r=e.split("").reverse().join("").substring(0,n-2),i="".concat(t," ... ").concat(r);return i}return e},i=function e(n){var t=11;if(n>t)return e(t)+e(n-t);var r=(t=Math.pow(10,n+1))/10;return(""+(Math.floor(Math.random()*(t-r+1))+r)).substring(1)}},98363:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/multiple/verify-assets",function(){return t(55318)}])}},function(e){e.O(0,[338,468,221,930,396,774,888,179],(function(){return n=98363,e(e.s=n);var n}));var n=e.O();_N_E=n}]);