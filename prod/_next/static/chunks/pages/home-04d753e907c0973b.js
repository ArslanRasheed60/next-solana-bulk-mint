(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{68227:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(67294);var r=n(84808),a=n(98456),i=n(85893);function o(e){var t=e.open,n=e.handleClose;return(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,onClick:n,children:(0,i.jsx)(a.Z,{color:"inherit"})})})}},52472:function(e,t,n){"use strict";var r=n(67294),a=n(33941),i=n(11163),o=n(85893);t.Z=function(e){var t=e.children,n=(0,a.Os)(),s=(0,i.useRouter)();return(0,r.useEffect)((function(){var e="/"===s.asPath,t="/home"===s.asPath;(e||t)&&(n.connected?s.push("/home",void 0,{shallow:!1}):s.push("/",void 0,{shallow:!1})),n.connected||s.push("/",void 0,{shallow:!1})}),[n.connected]),(0,o.jsx)("div",{children:t})}},30729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nn}});var r,a=n(59499),i=n(50029),o=n(87794),s=n.n(o),c=n(99226),u=n(86886),l=n(15861),d=n(26447),p=n(83321),f=n(59874),h=n(9008),g=n.n(h),m=n(96939),b=n.n(m),x=n(25675),y=n.n(x),v=n(33299),k=n(33941),w=n(67294),S=n(74489),j=n(84808),Z=n(16628),P=n(83965),M=n(76798),T=n(21737),I=n(16835),A=n(7066),O=n(53918),C=n(88441),D=n(59917),R=n(45734),_=n(43029),E=n(27812),K=n(50962),N=6e4,U=function(){var e=(0,i.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return r=e.sent,a=[],null!==r&&void 0!==r&&r.meta&&r.meta.logMessages&&r.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&a.push(t[1])})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var W=function(){var e=(0,i.Z)(s().mark((function e(t,n,a,i){var o,c,u,l,d,p,f,h,g,m,b,x,y,v,k,w,S,j,Z=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Z.length>4&&void 0!==Z[4]?Z[4]:r.Parallel,c=Z.length>5&&void 0!==Z[5]?Z[5]:"singleGossip",u=Z.length>6&&void 0!==Z[6]?Z[6]:function(e,t){},l=Z.length>7&&void 0!==Z[7]?Z[7]:function(e,t){return!1},d=Z.length>8?Z[8]:void 0,p=Z.length>9&&void 0!==Z[9]?Z[9]:[],f=Z.length>10&&void 0!==Z[10]?Z[10]:[],n.publicKey){e.next=9;break}throw new K.oS;case 9:if(h=p,d){e.next=14;break}return e.next=13,t.getRecentBlockhash(c);case 13:d=e.sent;case 14:g=function(e){var t=a[e],r=i[e];if(console.log(t,"@instructions?"),0===t.length)return"continue";var o=new D.Transaction;t.forEach((function(e){return o.add(e)})),o.recentBlockhash=d.blockhash,o.setSigners.apply(o,[n.publicKey].concat((0,E.Z)(r.map((function(e){return e.publicKey}))))),r.length>0&&o.partialSign.apply(o,(0,E.Z)(r)),h.push(o)},m=0;case 16:if(!(m<a.length)){e.next=23;break}if("continue"!==g(m)){e.next=20;break}return e.abrupt("continue",20);case 20:m++,e.next=16;break;case 23:return h.push.apply(h,(0,E.Z)(f)),b=h.filter((function(e){return e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),x=h.filter((function(e){return!e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),e.next=28,n.signAllTransactions(b);case 28:y=e.sent,y=x.concat(y),v=[],console.log("Signed txns length",y.length,"vs handed in length",a.length),k=s().mark((function e(n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=z({connection:t,signedTransaction:y[n]}),o===r.Parallel){e.next=22;break}return e.prev=2,e.next=5,a.then((function(e){var t=e.txid;e.slot;return u(t,n)}));case 5:v.push(a),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log("Failed at txn index:",n),console.log("Caught failure:",e.t0),l(y[n],n),o!==r.StopOnFailure){e.next=20;break}return e.t1=n,e.next=17,Promise.all(v);case 17:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 20:e.next=23;break;case 22:v.push(a);case 23:case"end":return e.stop()}}),e,null,[[2,8]])})),w=0;case 34:if(!(w<y.length)){e.next=42;break}return e.delegateYield(k(w),"t0",36);case 36:if("object"!==typeof(S=e.t0)){e.next=39;break}return e.abrupt("return",S.v);case 39:w++,e.next=34;break;case 42:if(o===r.Parallel){e.next=47;break}return e.next=45,Promise.all(v);case 45:return j=e.sent,e.abrupt("return",{number:y.length,txs:j});case 47:return e.t1=y.length,e.next=50,Promise.all(v);case 50:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(s().mark((function e(t,n,r,a){var i,o,c,u,l,d,p,f,h,g,m,b,x,y,v=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(v.length>4&&void 0!==v[4])||v[4],o=v.length>5&&void 0!==v[5]?v[5]:"singleGossip",c=v.length>6&&void 0!==v[6]&&v[6],u=v.length>7?v[7]:void 0,n.publicKey){e.next=6;break}throw new K.oS;case 6:if("object"!==typeof r){e.next=10;break}l=r,e.next=24;break;case 10:if(l=new D.Transaction,r.forEach((function(e){return l.add(e)})),e.t0=u,e.t0){e.next=17;break}return e.next=16,t.getRecentBlockhash(o);case 16:e.t0=e.sent;case 17:if(l.recentBlockhash=e.t0.blockhash,c?(d=l).setSigners.apply(d,(0,E.Z)(a.map((function(e){return e.publicKey})))):(p=l).setSigners.apply(p,[n.publicKey].concat((0,E.Z)(a.map((function(e){return e.publicKey}))))),a.length>0&&(f=l).partialSign.apply(f,(0,E.Z)(a)),c){e.next=24;break}return e.next=23,n.signTransaction(l);case 23:l=e.sent;case 24:return h=l.serialize(),g={skipPreflight:!0,commitment:o},e.next=28,t.sendRawTransaction(h,g);case 28:if(m=e.sent,b=0,!i){e.next=43;break}return e.next=33,Y(m,N,t,o);case 33:if(x=e.sent){e.next=36;break}throw new Error("Timed out awaiting confirmation on transaction");case 36:if(b=(null===x||void 0===x?void 0:x.slot)||0,null===x||void 0===x||!x.err){e.next=43;break}return e.next=40,U(t,m);case 40:throw y=e.sent,console.log(y),new Error("Raw transaction ".concat(m," failed"));case 43:return e.abrupt("return",{txid:m,slot:b});case 44:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),V=function(){return(new Date).getTime()/1e3};function z(e){return F.apply(this,arguments)}function F(){return(F=(0,i.Z)(s().mark((function e(t){var n,r,a,o,c,u,l,d,p,f,h,g,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,o=void 0===a?N:a,c=n.serialize(),u=V(),l=0,e.next=6,r.sendRawTransaction(c,{skipPreflight:!0});case 6:return d=e.sent,console.log("Started awaiting confirmation for",d),p=!1,(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(V()-u<o)){e.next=6;break}return r.sendRawTransaction(c,{skipPreflight:!0}),e.next=4,H(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,Y(d,o,r,"recent",!0);case 13:if(f=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!f.err){e.next=19;break}throw console.error(f.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===f||void 0===f?void 0:f.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return h=null,e.prev=28,e.next=31,G(r,n,"single");case 31:h=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!h||!h.err){e.next=47;break}if(!h.logs){e.next=46;break}g=h.logs.length-1;case 39:if(!(g>=0)){e.next=46;break}if(!(m=h.logs[g]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+m.slice("Program log: ".length));case 43:--g,e.next=39;break;case 46:throw new Error(JSON.stringify(h.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",d,V()-u),e.abrupt("return",{txid:d,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function G(e,t,n){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(s().mark((function e(t,n,r){var a,i,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),o=i.toString("base64"),c=[o,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",c);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return Q=(0,i.Z)(s().mark((function e(t,n,r){var a,o,c,u,l,d=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",o=d.length>4&&void 0!==d[4]&&d[4],c=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=(0,i.Z)(s().mark((function e(d,p){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){c=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),p(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(f){c=!0,console.error("WS error in setup",t,f)}case 2:if(c||!o){e.next=9;break}return(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],c||(u?u.err?(console.log("REST error for",t,u),c=!0,p(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),c=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=7,H(2e3);case 7:e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions&&r.removeSignatureListener(l),c=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function H(e){return new Promise((function(t){return setTimeout(t,e)}))}var q=n(48764).Buffer,X=function(e){if(e)return new Date(1e3*e.toNumber())},J=(new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),new A.rV.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")),$=new A.rV.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),ee=function(){var e=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([n.toBuffer(),_.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],J);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([t.toBuffer(),q.from("expire")],$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([t.toBuffer(),q.from("gateway"),q.from([0,0,0,0,0,0,0,0]),n.toBuffer()],$);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var re=n(48764).Buffer,ae=new A.rV.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),ie=new A.rV.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),oe=function(){var e=(0,i.Z)(s().mark((function e(t,n,r){var a,o,c,u,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],o=!1,c={slot:0,confirmations:0,err:null},u=0,e.next=6,new Promise(function(){var e=(0,i.Z)(s().mark((function e(u,l){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(o||!a){e.next=8;break}return(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,c=n&&n.value[0],o||(c?c.err?(console.log("REST error for",t,c),o=!0,l(c.err)):c.confirmations?(console.log("REST confirmation for",t,c),o=!0,u(c)):console.log("REST no confirmations for",t,c):console.log("REST null result for",t,c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,me(2e3);case 6:e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:return c=e.sent,r._signatureSubscriptions&&r.removeSignatureListener(u),o=!0,console.log("Returning status",c),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),se=function(e,t,n,r){var a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:A.rV.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:_.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:A.rV.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new A.rV.TransactionInstruction({keys:a,programId:J,data:re.from([])})},ce=function(){var e=(0,i.Z)(s().mark((function e(t,n,r){var a,i,o,c,u,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new A.zt(r,t,{preflightCommitment:"processed"}),e.next=3,A.$r.fetchIdl(ae,a);case 3:return i=e.sent,o=new A.$r(i,ae,a),e.next=7,o.account.candyMachine.fetch(n);case 7:return c=e.sent,u=c.data.itemsAvailable.toNumber(),l=c.itemsRedeemed.toNumber(),d=u-l,e.abrupt("return",{id:n,program:o,state:{authority:c.authority,itemsAvailable:u,itemsRedeemed:l,itemsRemaining:d,isSoldOut:0===d,isActive:!1,isPresale:!1,isWhitelistOnly:!1,goLiveDate:c.data.goLiveDate,treasury:c.wallet,tokenMint:c.tokenMint,gatekeeper:c.data.gatekeeper,endSettings:c.data.endSettings,whitelistMintSettings:c.data.whitelistMintSettings,hiddenSettings:c.data.hiddenSettings,price:c.data.price,retainAuthority:c.data.retainAuthority}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([re.from("metadata"),ie.toBuffer(),t.toBuffer(),re.from("edition")],ie);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([re.from("metadata"),ie.toBuffer(),t.toBuffer()],ie);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([re.from("candy_machine"),t.toBuffer()],ae);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([re.from("collection"),t.toBuffer()],ae);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.rV.PublicKey.findProgramAddress([re.from("metadata"),ie.toBuffer(),t.toBuffer(),re.from("collection_authority"),n.toBuffer()],ie);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=(0,i.Z)(s().mark((function e(t,n){var a,i,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.rV.Keypair.generate(),e.next=3,ee(a.publicKey,n);case 3:return i=e.sent[0],o=[a],e.t0=A.rV.SystemProgram,e.t1=n,e.t2=a.publicKey,e.t3=_.MintLayout.span,e.next=11,t.program.provider.connection.getMinimumBalanceForRentExemption(_.MintLayout.span);case 11:return e.t4=e.sent,e.t5=_.TOKEN_PROGRAM_ID,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=_.Token.createInitMintInstruction(_.TOKEN_PROGRAM_ID,a.publicKey,0,n,n),e.t9=se(i,n,n,a.publicKey),e.t10=_.Token.createMintToInstruction(_.TOKEN_PROGRAM_ID,a.publicKey,i,n,[],1),c=[e.t7,e.t8,e.t9,e.t10],e.t11=a,e.t12=i,e.next=23,W(t.program.provider.connection,t.program.provider.wallet,[c],[o],r.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,[],[]);case 23:return e.t13=e.sent.txs[0].txid,e.abrupt("return",{mint:e.t11,userTokenAccount:e.t12,transaction:e.t13});case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=(0,i.Z)(s().mark((function e(t,n){var a,i,o,c,u,l,d,p,f,h,g,m,b,x,y,v,k,w,S,j,Z,P,M,T,O,C,R,E,K,N,U=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=U.length>2&&void 0!==U[2]?U[2]:[],o=U.length>3&&void 0!==U[3]?U[3]:[],c=U.length>4?U[4]:void 0,u=null!==(a=null===c||void 0===c?void 0:c.mint)&&void 0!==a?a:A.rV.Keypair.generate(),e.next=6,ee(u.publicKey,n);case 6:if(l=e.sent[0],!t.state.tokenMint){e.next=13;break}return e.next=10,ee(t.state.tokenMint,n);case 10:e.t0=e.sent[0],e.next=14;break;case 13:e.t0=n;case 14:if(d=e.t0,p=t.id,f=[],h=[],g=[],console.log("SetupState: ",c),c){e.next=39;break}return g.push(u),e.t1=h.push,e.t2=h,e.t3=A.rV.SystemProgram,e.t4=n,e.t5=u.publicKey,e.t6=_.MintLayout.span,e.next=30,t.program.provider.connection.getMinimumBalanceForRentExemption(_.MintLayout.span);case 30:e.t7=e.sent,e.t8=_.TOKEN_PROGRAM_ID,e.t9={fromPubkey:e.t4,newAccountPubkey:e.t5,space:e.t6,lamports:e.t7,programId:e.t8},e.t10=e.t3.createAccount.call(e.t3,e.t9),e.t11=_.Token.createInitMintInstruction(_.TOKEN_PROGRAM_ID,u.publicKey,0,n,n),e.t12=se(l,n,n,u.publicKey),e.t13=_.Token.createMintToInstruction(_.TOKEN_PROGRAM_ID,u.publicKey,l,n,[],1),e.t14=[e.t10,e.t11,e.t12,e.t13],e.t1.apply.call(e.t1,e.t2,e.t14);case 39:if(!t.state.gatekeeper){e.next=54;break}return e.t15=f,e.next=43,ne(n,t.state.gatekeeper.gatekeeperNetwork);case 43:if(e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!0,isSigner:!1},e.t15.push.call(e.t15,e.t17),!t.state.gatekeeper.expireOnUse){e.next=54;break}return f.push({pubkey:$,isWritable:!1,isSigner:!1}),e.t18=f,e.next=51,te(t.state.gatekeeper.gatekeeperNetwork);case 51:e.t19=e.sent[0],e.t20={pubkey:e.t19,isWritable:!1,isSigner:!1},e.t18.push.call(e.t18,e.t20);case 54:if(!t.state.whitelistMintSettings){e.next=61;break}return m=new A.rV.PublicKey(t.state.whitelistMintSettings.mint),e.next=58,ee(m,n);case 58:b=e.sent[0],f.push({pubkey:b,isWritable:!0,isSigner:!1}),t.state.whitelistMintSettings.mode.burnEveryTime&&(f.push({pubkey:m,isWritable:!0,isSigner:!1}),f.push({pubkey:n,isWritable:!1,isSigner:!0}));case 61:return t.state.tokenMint&&(f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:n,isWritable:!1,isSigner:!0})),e.next=64,le(u.publicKey);case 64:return x=e.sent,e.next=67,ue(u.publicKey);case 67:return y=e.sent,e.next=70,de(p);case 70:return v=e.sent,k=(0,I.Z)(v,2),w=k[0],S=k[1],console.log(f.map((function(e){return e.pubkey.toBase58()}))),e.t21=h,e.next=78,t.program.instruction.mintNft(S,{accounts:{candyMachine:p,candyMachineCreator:w,payer:n,wallet:t.state.treasury,mint:u.publicKey,metadata:x,masterEdition:y,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:ie,tokenProgram:_.TOKEN_PROGRAM_ID,systemProgram:D.SystemProgram.programId,rent:A.rV.SYSVAR_RENT_PUBKEY,clock:A.rV.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:D.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:A.rV.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 78:return e.t22=e.sent,e.t21.push.call(e.t21,e.t22),e.next=82,pe(p);case 82:return j=e.sent,Z=(0,I.Z)(j,1),P=Z[0],e.next=87,t.program.provider.connection.getAccountInfo(P);case 87:if(!e.sent||!t.state.retainAuthority){e.next=118;break}return e.prev=89,e.next=92,t.program.account.collectionPda.fetch(P);case 92:return M=e.sent,console.log(M),T=M.mint,e.next=97,fe(T,P);case 97:if(O=e.sent,console.log(T),!T){e.next=113;break}return e.next=102,le(T);case 102:return C=e.sent,e.next=105,ue(T);case 105:return R=e.sent,console.log("Collection PDA: ",P.toBase58()),console.log("Authority: ",t.state.authority.toBase58()),e.t23=h,e.next=111,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:p,metadata:x,payer:n,collectionPda:P,tokenMetadataProgram:ie,instructions:A.rV.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:T,collectionMetadata:C,collectionMasterEdition:R,authority:t.state.authority,collectionAuthorityRecord:O}});case 111:e.t24=e.sent,e.t23.push.call(e.t23,e.t24);case 113:e.next=118;break;case 115:e.prev=115,e.t25=e.catch(89),console.error(e.t25);case 118:return E=[h],K=[g],e.prev=120,e.next=123,W(t.program.provider.connection,t.program.provider.wallet,E,K,r.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,i,o);case 123:return N=e.sent.txs.map((function(e){return e.txid})),e.abrupt("return",[{mintTxIds:N,metadataKeys:[x]}]);case 127:e.prev=127,e.t26=e.catch(120),console.log(e.t26);case 130:return e.abrupt("return",[]);case 131:case"end":return e.stop()}}),e,null,[[89,115],[120,127]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(e){return new Promise((function(t){return setTimeout(t,e)}))},be=function(){var e=(0,i.Z)(s().mark((function e(t,n){var a,i,o,c,u,l,d,p,f,h,g,m,b,x,y,v,k,w,S,j,Z,P,M,T,O,C,R,E,K,N,U,B,V,z,F=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=F.length>2&&void 0!==F[2]?F[2]:2,i=F.length>3&&void 0!==F[3]?F[3]:[],o=F.length>4&&void 0!==F[4]?F[4]:[],c=[],u=[],l=[],d=0;case 7:if(!(d<a)){e.next=130;break}return p=A.rV.Keypair.generate(),e.next=11,ee(p.publicKey,n);case 11:if(f=e.sent[0],!t.state.tokenMint){e.next=18;break}return e.next=15,ee(t.state.tokenMint,n);case 15:e.t0=e.sent[0],e.next=19;break;case 18:e.t0=n;case 19:return h=e.t0,g=t.id,m=[],b=[p],x=[],e.t1=A.rV.SystemProgram,e.t2=n,e.t3=p.publicKey,e.t4=_.MintLayout.span,e.next=30,t.program.provider.connection.getMinimumBalanceForRentExemption(_.MintLayout.span);case 30:if(e.t5=e.sent,e.t6=_.TOKEN_PROGRAM_ID,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=_.Token.createInitMintInstruction(_.TOKEN_PROGRAM_ID,p.publicKey,0,n,n),e.t10=se(f,n,n,p.publicKey),e.t11=_.Token.createMintToInstruction(_.TOKEN_PROGRAM_ID,p.publicKey,f,n,[],1),y=[e.t8,e.t9,e.t10,e.t11],!t.state.gatekeeper){e.next=53;break}return e.t12=m,e.next=42,ne(n,t.state.gatekeeper.gatekeeperNetwork);case 42:if(e.t13=e.sent[0],e.t14={pubkey:e.t13,isWritable:!0,isSigner:!1},e.t12.push.call(e.t12,e.t14),!t.state.gatekeeper.expireOnUse){e.next=53;break}return m.push({pubkey:$,isWritable:!1,isSigner:!1}),e.t15=m,e.next=50,te(t.state.gatekeeper.gatekeeperNetwork);case 50:e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!1,isSigner:!1},e.t15.push.call(e.t15,e.t17);case 53:if(!t.state.whitelistMintSettings){e.next=68;break}return v=new A.rV.PublicKey(t.state.whitelistMintSettings.mint),e.next=57,ee(v,n);case 57:if(k=e.sent[0],m.push({pubkey:k,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=68;break}return w=A.rV.Keypair.generate(),m.push({pubkey:v,isWritable:!0,isSigner:!1}),m.push({pubkey:w.publicKey,isWritable:!1,isSigner:!0}),b.push(w),e.next=66,t.program.provider.connection.getAccountInfo(k);case 66:e.sent&&(y.push(_.Token.createApproveInstruction(_.TOKEN_PROGRAM_ID,k,w.publicKey,n,[],1)),x.push(_.Token.createRevokeInstruction(_.TOKEN_PROGRAM_ID,k,n,[])));case 68:return t.state.tokenMint&&(S=A.rV.Keypair.generate(),b.push(S),m.push({pubkey:h,isWritable:!0,isSigner:!1}),m.push({pubkey:S.publicKey,isWritable:!1,isSigner:!0}),y.push(_.Token.createApproveInstruction(_.TOKEN_PROGRAM_ID,h,S.publicKey,n,[],t.state.price.toNumber())),x.push(_.Token.createRevokeInstruction(_.TOKEN_PROGRAM_ID,h,n,[]))),e.next=71,ue(p.publicKey);case 71:return j=e.sent,e.next=74,le(p.publicKey);case 74:return Z=e.sent,l.push(Z),e.next=78,de(g);case 78:return P=e.sent,M=(0,I.Z)(P,2),T=M[0],O=M[1],e.t18=y,e.next=85,t.program.instruction.mintNft(O,{accounts:{candyMachine:g,candyMachineCreator:T,payer:n,wallet:t.state.treasury,mint:p.publicKey,metadata:Z,masterEdition:j,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:ie,tokenProgram:_.TOKEN_PROGRAM_ID,systemProgram:D.SystemProgram.programId,rent:A.rV.SYSVAR_RENT_PUBKEY,clock:A.rV.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:D.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:A.rV.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:m.length>0?m:void 0});case 85:return e.t19=e.sent,e.t18.push.call(e.t18,e.t19),e.next=89,pe(g);case 89:return C=e.sent,R=(0,I.Z)(C,1),E=R[0],e.next=94,t.program.provider.connection.getAccountInfo(E);case 94:if(!e.sent||!t.state.retainAuthority){e.next=125;break}return e.prev=96,e.next=99,t.program.account.collectionPda.fetch(E);case 99:return K=e.sent,console.log(K),N=K.mint,e.next=104,fe(N,E);case 104:if(U=e.sent,console.log(N),!N){e.next=120;break}return e.next=109,le(N);case 109:return B=e.sent,e.next=112,ue(N);case 112:return V=e.sent,console.log("Collection PDA: ",E.toBase58()),console.log("Authority: ",t.state.authority.toBase58()),e.t20=y,e.next=118,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:g,metadata:Z,payer:n,collectionPda:E,tokenMetadataProgram:ie,instructions:A.rV.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:N,collectionMetadata:B,collectionMasterEdition:V,authority:t.state.authority,collectionAuthorityRecord:U}});case 118:e.t21=e.sent,e.t20.push.call(e.t20,e.t21);case 120:e.next=125;break;case 122:e.prev=122,e.t22=e.catch(96),console.error(e.t22);case 125:c.push(b),u.push(y);case 127:d++,e.next=7;break;case 130:return e.prev=130,e.next=133,W(t.program.provider.connection,t.program.provider.wallet,u,c,r.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,i,o);case 133:return z=e.sent.txs.map((function(e){return e.txid})),e.abrupt("return",[{mintTxIds:z,metadataKeys:l}]);case 137:e.prev=137,e.t23=e.catch(130),console.log(e.t23);case 140:return e.abrupt("return",[]);case 141:case"end":return e.stop()}}),e,null,[[96,122],[130,137]])})));return function(t,n){return e.apply(this,arguments)}}(),xe=n(23975),ye=n(31023),ve=n(31812),ke=n(85893),we=((0,O.default)(p.Z).withConfig({displayName:"MintButton__CTAButton",componentId:"sc-9s0yvl-0"})(["width:220px;height:70px;margin-top:10px;margin-bottom:5px;background:linear-gradient(90deg,#450bd5 0%,#ea2efb 50%,#ff207a 100%);color:white;font-size:16px;font-weight:bold;border-radius:20px;font-family:'iCiel Gotham Ultra';font-weight:normal;font-size:1.5rem;&:hover{transform:scale(1.1);transition:all 0.5s;}"]),function(e){var t=e.onMint,n=e.candyMachine,r=e.isMinting,a=e.setIsMinting,o=e.isActive,c=(0,k.Os)(),u=(0,k.Rc)(),d=(0,w.useState)(!1),p=d[0],f=d[1],h=(0,xe.useGateway)(),g=h.requestGatewayToken,m=h.gatewayStatus,b=(0,w.useState)(-1),x=b[0],y=b[1],v=(0,w.useState)(!1),S=v[0],j=v[1];(0,w.useEffect)((function(){console.log("sini");var e=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ye.removeAccountChangeListener)(u.connection,x);case 2:return e.next=4,t();case 4:j(!1),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();p&&S&&e()}),[]);var Z=function(e){var t=(0,w.useRef)();return(0,w.useEffect)((function(){t.current=e}),[e]),t.current}(m);return(0,w.useEffect)((function(){console.log("sana",Z),Z&&function(){var e=[xe.GatewayStatus.NOT_REQUESTED,xe.GatewayStatus.REFRESH_TOKEN_REQUIRED],t=[].concat(e,[xe.GatewayStatus.UNKNOWN]);e.find((function(e){return Z===e}))&&!t.find((function(e){return m===e}))&&a(!0)}()}),[]),(0,ke.jsx)(ve.Z,{loading:r,disabled:r||!o,sx:{bgcolor:"primary.light",width:100},onClick:(0,i.Z)(s().mark((function e(){var r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("on clicked!"),null===n||void 0===n||!n.state.isActive||null===n||void 0===n||!n.state.gatekeeper){e.next=37;break}if(r=n.state.gatekeeper.gatekeeperNetwork.toBase58(),console.log(r,"@network?"),"ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6"!==r){e.next=16;break}if(m!==xe.GatewayStatus.ACTIVE){e.next=10;break}return e.next=8,t();case 8:e.next=14;break;case 10:return console.log(m,"@gatewayStatus?"),e.next=13,g();case 13:console.log("after: ",m);case 14:e.next=35;break;case 16:if("ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE"!==r&&"tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt"!==r){e.next=33;break}return j(!0),e.next=20,(0,ye.findGatewayToken)(u.connection,c.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 20:if(null===(a=e.sent)||void 0===a||!a.isValid()){e.next=26;break}return e.next=24,t();case 24:e.next=31;break;case 26:return window.open("https://verify.encore.fans/?gkNetwork=".concat(r),"_blank"),e.next=29,(0,ye.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(c.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 29:i=e.sent,y((0,ye.onGatewayTokenChange)(u.connection,i,(function(){return f(!0)}),"confirmed"));case 31:e.next=35;break;case 33:throw j(!1),new Error("Unknown Gatekeeper Network: ".concat(r));case 35:e.next=40;break;case 37:return e.next=39,t();case 39:j(!1);case 40:case"end":return e.stop()}}),e)}))),variant:"contained",children:(0,ke.jsx)(l.Z,{color:"white",fontWeight:"bold",variant:"button",component:"div",children:null!==n&&void 0!==n&&n.state.isSoldOut?"SOLD OUT":null!==n&&void 0!==n&&n.state.isPresale||null!==n&&void 0!==n&&n.state.isWhitelistOnly?"WHITELIST MINT":"MINT"})})});var Se=(0,O.default)("div").withConfig({displayName:"MintCounter__Counter",componentId:"sc-d7szep-0"})(["width:200px;height:100%;padding:0px;display:flex;flex-direction:row;justify-content:between;items-align:center;margin-left:10px;"]),je=(0,O.default)("div").withConfig({displayName:"MintCounter__TriangleLeft",componentId:"sc-d7szep-1"})(["display:inline-block;height:0;width:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #fba722;cursor:pointer;&:hover{transform:scale(1.2);transition:all 0.5s;}"]),Ze=(0,O.default)("div").withConfig({displayName:"MintCounter__TriangleRight",componentId:"sc-d7szep-2"})(["display:inline-block;height:0;width:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid #fba722;cursor:pointer;&:hover{transform:scale(1.2);transition:all 0.5s;}"]),Pe=(0,O.default)("input").withConfig({displayName:"MintCounter__CounterInput",componentId:"sc-d7szep-3"})(["width:55px;height:45px;font-weight:bold;font-size:1.75rem;text-align:center;margin:0px 5px;border-radius:10px;"]),Me=function(e){var t=e.mintCount,n=e.handleMintCount;return(0,ke.jsxs)(Se,{children:[(0,ke.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,ke.jsx)(je,{style:{flexGrow:"1"},onClick:function(){return n("decrement")}})}),(0,ke.jsx)(Pe,{type:"text",value:t,readOnly:!0}),(0,ke.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,ke.jsx)(Ze,{style:{flexGrow:"1"},onClick:function(){return n("increment")}})})]})},Te="1661274000000",Ie="https://solana-api.projectserum.com/",Ae="2yP3FjC3LmeLDrZpsE9XWamxVhFQX9pBzUignd4UBQfH",Oe="mainnet-beta",Ce="A6qD8mV6XMLdjcfhzS2BcNA87sW2tTRh6JEkQew6nT4A",De=n(68227);function Re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=(0,O.default)(R.G1).withConfig({displayName:"MultipleMint__ConnectButton",componentId:"sc-13f34hr-0"})(["width:300px;height:70px;margin-top:10px;margin-bottom:5px;background:linear-gradient(90deg,#450bd5 0%,#ea2efb 50%,#ff207a 100%);color:white;font-size:16px;font-weight:bold;border-radius:20px;font-family:'iCiel Gotham Ultra';font-weight:normal;font-size:1.5rem;&:hover{transform:scale(1.1);transition:all 0.5s;}"]),Ue=O.default.div.withConfig({displayName:"MultipleMint__MintContainer",componentId:"sc-13f34hr-1"})([""]);function We(e){return(0,ke.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(c.Z,{sx:{width:"100%",mr:1},children:(0,ke.jsx)(C.Z,Ke({variant:"determinate"},e))}),(0,ke.jsx)(c.Z,{sx:{minWidth:100},children:(0,ke.jsx)(l.Z,{variant:"body2",color:"text.secondary",children:"".concat(e.totalMinted," / ").concat(e.itemsAvailable)})})]})}var Be=(0,f.Z)((function(){return{root:{"& .MuiLinearProgress-colorPrimary":{backgroundColor:"red"},"& .MuiLinearProgress-barColorPrimary":{backgroundColor:"green"}}}})),Ve=function(e){var t,n,r=(0,w.useState)(!1),a=r[0],o=r[1],u=(0,w.useState)(null),l=u[0],p=u[1],f=(0,w.useState)({open:!1,message:"",severity:void 0}),h=f[0],g=f[1],m=(0,w.useState)(!1),b=m[0],x=m[1],y=(0,w.useState)(),v=y[0],S=y[1],j=(0,w.useState)(!1),Z=j[0],P=j[1],O=(0,w.useState)(!1),C=O[0],R=O[1],_=(0,w.useState)(!1),E=_[0],K=_[1],N=(0,w.useState)(!0),U=N[0],W=N[1],V=(0,w.useState)(),z=V[0],F=V[1],G=(0,w.useState)(1),L=G[0],Y=G[1],Q=(0,w.useState)(0),H=Q[0],q=Q[1],X=(0,w.useState)(0),J=X[0],$=X[1],te=(0,k.Os)(),ne=Be(),re=(0,w.useMemo)((function(){if(console.log("sini"),te&&te.publicKey&&te.signAllTransactions&&te.signTransaction)return{publicKey:te.publicKey,signAllTransactions:te.signAllTransactions,signTransaction:te.signTransaction}}),[te]),ae=(0,w.useCallback)((0,i.Z)(s().mark((function t(){var n,r,a,i,o,c,u,l,d,f,h,m,b,y,v,k,w,j,Z,M,T,O,C,_,E,N,U,B,V=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=V.length>0&&void 0!==V[0]?V[0]:"confirmed",console.log("refreshing"),re){t.next=4;break}return t.abrupt("return");case 4:if(r=new D.Connection(e.rpcHost,n),!e.candyMachineId){t.next=102;break}return t.prev=6,t.next=9,ce(re,e.candyMachineId,r);case 9:if(d=t.sent,f=(null===d||void 0===d||null===(a=d.state.goLiveDate)||void 0===a?void 0:a.toNumber())<(new Date).getTime()/1e3,h=!1,console.log(d),q(d.state.itemsAvailable),S(d.state.itemsRemaining),$(d.state.itemsRedeemed),m=!1,b=d.state.price,null===d||void 0===d||!d.state.whitelistMintSettings){t.next=40;break}return d.state.whitelistMintSettings.presale&&(!d.state.goLiveDate||d.state.goLiveDate.toNumber()>(new Date).getTime()/1e3)&&(h=!0),d.state.whitelistMintSettings.discountPrice?b=d.state.whitelistMintSettings.discountPrice:d.state.whitelistMintSettings.presale||(d.state.isWhitelistOnly=!0),y=new A.rV.PublicKey(d.state.whitelistMintSettings.mint),t.next=24,ee(y,re.publicKey);case 24:return v=t.sent[0],t.prev=25,t.next=28,r.getTokenAccountBalance(v);case 28:k=t.sent,m=parseInt(k.value.amount)>0,P(m),d.state.isWhitelistOnly&&(f=m&&(h||f)),t.next=40;break;case 34:t.prev=34,t.t0=t.catch(25),P(!1),d.state.isWhitelistOnly&&(f=!1),console.log("There was a problem fetching whitelist token balance"),console.log(t.t0);case 40:if(b=m?b:d.state.price,null===d||void 0===d||!d.state.tokenMint){t.next=63;break}return w=new A.rV.PublicKey(d.state.tokenMint),t.next=45,ee(w,re.publicKey);case 45:return j=t.sent[0],t.prev=46,t.next=49,r.getTokenAccountBalance(j);case 49:Z=t.sent,M=new A.BN(Z.value.amount).gte(b),K(M),f=f&&M,t.next=61;break;case 55:t.prev=55,t.t1=t.catch(46),K(!1),f=!1,console.log("There was a problem fetching SPL token balance"),console.log(t.t1);case 61:t.next=71;break;case 63:return t.t2=A.BN,t.next=66,r.getBalance(re.publicKey);case 66:t.t3=t.sent,T=new t.t2(t.t3),O=T.gte(b),K(O),f=f&&O;case 71:return null!==d&&void 0!==d&&null!==(i=d.state.endSettings)&&void 0!==i&&i.endSettingType.date&&d.state.endSettings.number.toNumber()<(new Date).getTime()/1e3&&(f=!1),null!==d&&void 0!==d&&null!==(o=d.state.endSettings)&&void 0!==o&&o.endSettingType.amount?(C=Math.min(d.state.endSettings.number.toNumber(),d.state.itemsAvailable),d.state.itemsRedeemed<C?S(C-d.state.itemsRedeemed):(S(0),d.state.isSoldOut=!0)):S(d.state.itemsRemaining),d.state.isSoldOut&&(f=!1),t.next=76,pe(e.candyMachineId);case 76:return _=t.sent,E=(0,I.Z)(_,1),N=E[0],t.next=81,r.getAccountInfo(N);case 81:U=t.sent,x(d.state.isActive=f),R(d.state.isPresale=h),p(d),B=892+(U&&d.state.retainAuthority?182:0)+(d.state.tokenMint?66:0)+(d.state.whitelistMintSettings?34:0)+(null!==(c=d.state.whitelistMintSettings)&&void 0!==c&&null!==(u=c.mode)&&void 0!==u&&u.burnEveryTime?34:0)+(d.state.gatekeeper?33:0)+(null!==(l=d.state.gatekeeper)&&void 0!==l&&l.expireOnUse?66:0),W(B>1230),t.next=100;break;case 89:if(t.prev=89,t.t4=t.catch(6),!(t.t4 instanceof Error)){t.next=99;break}if(t.t4.message!=="Account does not exist ".concat(e.candyMachineId)){t.next=96;break}return t.abrupt("return");case 96:t.t4.message.startsWith("failed to get info about account")&&g({open:!0,message:"RPC Unstable with ".concat(e.rpcHost),severity:"error",hideDuration:null});case 97:t.next=99;break;case 99:console.log(t.t4);case 100:t.next=103;break;case 102:g({open:!0,message:"Wrong candy machine",severity:"error",hideDuration:null});case 103:case"end":return t.stop()}}),t,null,[[6,89],[25,34],[46,55]])}))),[e.candyMachineId]),ie=function(){var t=(0,i.Z)(s().mark((function t(){var n,r,a,i,c,u,d,p,f,h,m,b,y,k,w,j,Z,P,M,T,I,A,O,C,D,R=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=R.length>0&&void 0!==R[0]?R[0]:[],r=R.length>1&&void 0!==R[1]?R[1]:[],a=e.onError,i=e.onFinish,c=e.onMinting,t.prev=3,console.log("onMint!!"),c(),o(!0),null===(u=document.getElementById("#identity"))||void 0===u||u.click(),!(te.connected&&null!==l&&void 0!==l&&l.program&&te.publicKey)){t.next=89;break}if(!U||void 0!==z){t.next=29;break}return g({open:!0,message:"Please sign account setup transaction",severity:"info"}),t.next=13,he(l,te.publicKey);case 13:if(d=t.sent,p={err:!0},!d.transaction){t.next=19;break}return t.next=18,oe(d.transaction,e.txTimeout,e.connection,!0);case 18:p=t.sent;case 19:if(!p||p.err){t.next=24;break}F(d),g({open:!0,message:"Setup transaction succeeded! Please sign minting transaction",severity:"info"}),t.next=27;break;case 24:return g({open:!0,message:"Mint failed! Please try again!",severity:"error"}),o(!1),t.abrupt("return");case 27:t.next=30;break;case 29:g({open:!0,message:"Please sign minting transaction",severity:"info"});case 30:if(f=[],console.log(L,"@mintCount!!"),1!==L){t.next=38;break}return t.next=35,ge(l,te.publicKey,n,r,null!==(h=d)&&void 0!==h?h:z);case 35:f=t.sent,t.next=42;break;case 38:if(!(L>1)){t.next=42;break}return t.next=41,be(l,te.publicKey,L,n,r);case 41:f=t.sent;case 42:if(m=[],!(f&&f.length>0)){t.next=80;break}b=Re(f),t.prev=45,b.s();case 47:if((y=b.n()).done){t.next=72;break}if(!((k=y.value).mintTxIds&&k.mintTxIds.length>0)){t.next=70;break}w=Re(k.mintTxIds),t.prev=51,w.s();case 53:if((j=w.n()).done){t.next=62;break}return Z=j.value,t.t0=m,t.next=58,oe(Z,e.txTimeout,e.connection,!0);case 58:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 60:t.next=53;break;case 62:t.next=67;break;case 64:t.prev=64,t.t2=t.catch(51),w.e(t.t2);case 67:return t.prev=67,w.f(),t.finish(67);case 70:t.next=47;break;case 72:t.next=77;break;case 74:t.prev=74,t.t3=t.catch(45),b.e(t.t3);case 77:return t.prev=77,b.f(),t.finish(77);case 80:return t.next=82,Promise.all(m);case 82:P=t.sent,M=0,T=0,I=Re(P);try{for(I.s();!(A=I.n()).done;)null!==(O=A.value)&&void 0!==O&&O.err?T+=1:M+=1}catch(s){I.e(s)}finally{I.f()}0===T?M===L?(i(),S(C=v-L),x(l.state.isActive=C>0),l.state.isSoldOut=0===C,F(void 0),g({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"})):0===M&&(i(),g({open:!0,message:"Mints manually cancelled.",severity:"error"})):(a(),g({open:!0,message:"".concat(T,"/").concat(L," mints failed! Please try again!"),severity:"error"})),Y(1);case 89:t.next=98;break;case 91:t.prev=91,t.t4=t.catch(3),a(),D=t.t4.msg||"Minting failed! Please try again!",t.t4.msg?311===t.t4.code?(console.log("311"),console.log(t.t4),D="SOLD OUT!",window.location.reload()):312===t.t4.code&&(D="Minting period hasn't started yet."):t.t4.message?t.t4.message.indexOf("0x137")>0?(console.log("0x137"),console.log(t.t4.message),console.log(t.t4),D="SOLD OUT!"):t.t4.message.indexOf("0x135")>0&&(D="Insufficient funds to mint. Please fund your wallet."):D="Transaction timeout! Please try again.",g({open:!0,message:D,severity:"error"}),ae();case 98:return t.prev=98,o(!1),t.finish(98);case 101:case"end":return t.stop()}}),t,null,[[3,91,98,101],[45,74,77,80],[51,64,67,70]])})));return function(){return t.apply(this,arguments)}}(),se=function(e){switch(e){case"increment":Y((function(e){return!v||v&&e<v?e+1:e}));break;case"decrement":Y((function(e){return e>1?e-1:e}));break;default:return}};function ue(){setTimeout((function(){console.log("here"),null===l&&(console.log("loop!"),ae()),ue()}),2e5)}return(0,w.useEffect)((function(){null!==e.candyMachineId&&ae()}),[]),(0,w.useEffect)((function(){ue()}),[ae]),(0,ke.jsxs)("div",{style:{position:"relative"},children:[te.connected?(0,ke.jsx)(ke.Fragment,{children:(0,ke.jsx)(Ue,{children:null!==l&&void 0!==l&&l.state.isActive&&null!==l&&void 0!==l&&l.state.gatekeeper&&te.publicKey&&te.signTransaction?(0,ke.jsx)(xe.GatewayProvider,{logo:"/assets/images/logo.svg",wallet:te,gatekeeperNetwork:null===l||void 0===l||null===(t=l.state)||void 0===t||null===(n=t.gatekeeper)||void 0===n?void 0:n.gatekeeperNetwork,cluster:"mainnet-beta",clusterUrl:"https://solana-api.projectserum.com/",handleTransaction:function(){var t=(0,i.Z)(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onHandleTransaction!!",n),o(!0),!n.signatures.find((function(e){return e.publicKey.equals(te.publicKey)}))){t.next=18;break}return g({open:!0,message:"Please sign one-time Civic Pass issuance",severity:"info"}),t.prev=5,t.next=8,null===(r=te.signTransaction)||void 0===r?void 0:r.call(te,n);case 8:n=t.sent,t.next=16;break;case 11:throw t.prev=11,t.t0=t.catch(5),g({open:!0,message:"User cancelled signing",severity:"error"}),o(!1),t.t0;case 16:t.next=19;break;case 18:g({open:!0,message:"Refreshing Civic Pass",severity:"info"});case 19:return t.prev=19,console.log("sending transactions",n,"@!!"),t.next=23,B(e.connection,te,n,[],!0,"confirmed");case 23:g({open:!0,message:"Please sign minting",severity:"info"}),t.next=32;break;case 26:throw t.prev=26,t.t1=t.catch(19),g({open:!0,message:"Solana dropped the transaction, please try again"+t.t1.message||0,severity:"warning"}),console.error(t.t1),o(!1),t.t1;case 32:return t.next=34,ie();case 34:case"end":return t.stop()}}),t,null,[[5,11],[19,26]])})));return function(e){return t.apply(this,arguments)}}(),broadcastTransaction:!1,options:{autoShowModal:!1},children:(0,ke.jsxs)(d.Z,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,ke.jsx)(we,{candyMachine:l,isMinting:a,setIsMinting:function(e){return o(e)},onMint:ie,isActive:b||C&&Z&&E}),(0,ke.jsx)(Me,{mintCount:L,handleMintCount:se}),(0,ke.jsx)(c.Z,{sx:{width:"100%"},children:(0,ke.jsx)(We,{className:ne.root,variant:"determinate",value:100-100*v/H,sx:{bgcolor:"paper",color:"#FFF",p:1,borderRadius:4},totalMinted:J,itemsAvailable:H})})]})}):(0,ke.jsxs)(d.Z,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[(0,ke.jsx)(we,{candyMachine:l,isMinting:a,setIsMinting:function(e){return o(e)},onMint:ie,isActive:b||C&&Z&&E}),(0,ke.jsx)(Me,{mintCount:L,handleMintCount:se}),(0,ke.jsx)(c.Z,{sx:{width:"100%",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(We,{className:ne.root,variant:"determinate",value:100-100*v/H,sx:{bgcolor:"paper",color:"#FFF",p:1,borderRadius:4},totalMinted:J,itemsAvailable:H})})]})})}):(0,ke.jsx)(Ne,{children:"Connect Wallet"}),(0,ke.jsx)(M.Z,{open:h.open,autoHideDuration:void 0===h.hideDuration?6e3:h.hideDuration,onClose:function(){return g(Ke(Ke({},h),{},{open:!1}))},children:(0,ke.jsx)(T.Z,{onClose:function(){return g(Ke(Ke({},h),{},{open:!1}))},severity:h.severity,children:h.message})})]})},ze=function(e){try{return new A.rV.PublicKey(e)}catch(t){return void console.log("Failed to construct CandyMachineId",t)}},Fe=function(e){var t=e.onFinish,n=e.onMinting,r=e.onError,a=(0,k.Os)(),o=(0,w.useState)(!1),c=o[0],u=o[1],l=(0,w.useState)({txTimeout:3e4,candyMachineId:null,connection:new A.rV.Connection(Ie||A.rV.clusterApiUrl("mainnet-beta")),network:Oe,rpcHost:Ie}),d=l[0],p=l[1],f=function(){var e=(0,i.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),3e4,t=new A.rV.Connection(A.rV.clusterApiUrl("mainnet-beta")),n=ze(Ae),p((function(e){return Ke(Ke({},e),{},{txTimeout:3e4,candyMachineId:n,connection:t,network:"mainnet-beta",rpcHost:Ie})})),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.useEffect)((function(){a.connected&&f()}),[]),c||null===d.candyMachineId?(0,ke.jsx)(De.Z,{open:c,handleClose:function(){return u(!1)}}):(0,ke.jsx)(Ve,{connection:d.connection,network:d.network,rpcHost:d.rpcHost,txTimeout:d.txTimeout,candyMachineId:d.candyMachineId,onFinish:t,onMinting:n,onError:r})};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:650,minWidth:350,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},Qe=function(e){var t=e.handleClose,n=e.open,r=(e.isMinting,e.itemsRemaining),a=e.solscanInfo,i=e.alertState,o=e.onAlertState,s=e.onError,u=e.onFinish,p=e.onMinting;(0,k.Os)();return(0,ke.jsx)(S.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:n,onClose:t,closeAfterTransition:!0,BackdropComponent:j.Z,BackdropProps:{timeout:500},children:(0,ke.jsx)(Z.Z,{in:n,children:(0,ke.jsxs)(c.Z,{sx:Ye,children:[(0,ke.jsx)("p",{className:b().buttonText,style:{textAlign:"center",fontSize:30},children:"Mint Now"}),(0,ke.jsx)(P.Z,{src:"/assets/images/collection.gif",component:"img",sx:{borderRadius:4},height:400,width:100,alt:"gif"}),(0,ke.jsx)(d.Z,{direction:"row",spacing:2,mt:2,mb:2,alignItems:"center",children:r>0&&n&&(0,ke.jsx)(d.Z,{direction:"row",spacing:0,alignItems:"center",justifyContent:"center",children:(0,ke.jsx)(Fe,{onError:s,onFinish:u,onMinting:p})})}),""!==a&&(0,ke.jsxs)(l.Z,{color:"white",fontWeight:"bold",variant:"button",component:"div",children:["Mint Succeed you can see your transaction at"," ",(0,ke.jsx)(l.Z,{color:"green",fontWeight:"bold",component:"a",href:a,target:"__blank",sx:{textDecoration:"underline"},mt:3,children:"solscan"})]}),(0,ke.jsx)(M.Z,{open:i.open,autoHideDuration:6e3,onClose:function(){return o(Le(Le({},i),{},{open:!1}))},children:(0,ke.jsx)(T.Z,{onClose:function(){return o(Le(Le({},i),{},{open:!1}))},severity:i.severity,children:i.message})})]})})})},He=n(98130),qe=function(e){var t=e.days,n=e.hours,r=e.minutes,a=e.seconds;return(0,ke.jsxs)(d.Z,{direction:"row",spacing:3,alignItems:"center",mt:2,sx:{zIndex:1e3},children:[(0,ke.jsx)(c.Z,{sx:{borderRadius:4,bgcolor:"primary.light",p:2,opacity:1},children:(0,ke.jsxs)("p",{className:b().buttonText,style:{textAlign:"center",fontSize:22,alignSelf:"center"},children:[t," Days"]})}),(0,ke.jsx)(c.Z,{sx:{borderRadius:4,bgcolor:"primary.light",p:2},children:(0,ke.jsxs)("p",{className:b().buttonText,style:{textAlign:"center",fontSize:22,alignSelf:"center"},children:[n," Hours"]})}),(0,ke.jsx)(c.Z,{sx:{borderRadius:4,bgcolor:"primary.light",p:2},children:(0,ke.jsxs)("p",{className:b().buttonText,style:{textAlign:"center",fontSize:22,alignSelf:"center"},children:[r," Minutes"]})}),(0,ke.jsx)(c.Z,{sx:{borderRadius:4,bgcolor:"primary.light",p:2},children:(0,ke.jsxs)("p",{className:b().buttonText,style:{textAlign:"center",fontSize:22,alignSelf:"center"},children:[a," Seconds"]})})]})},Xe=n(90729),Je=n(11163),$e=n(25683),et=n(77533),tt=n(92777),nt=n(82262),rt={apiKey:"AIzaSyC3DHUTRiWaATsdwnT18jG0cWVsaSpFuQ4",authDomain:"nvp-solana-minter-project.firebaseapp.com",projectId:"nvp-solana-minter-project",storageBucket:"nvp-solana-minter-project.appspot.com",messagingSenderId:"403240314887",appId:"1:403240314887:web:91f94e1cb1fdecdee662a2",measurementId:"G-YN2D683WK2"},at=n(95762),it=n(15503),ot=n(96257),st=n(3918),ct=function(){function e(){(0,tt.Z)(this,e),(0,a.Z)(this,"db",void 0),(0,a.Z)(this,"users",void 0),(0,a.Z)(this,"networks",void 0),(0,a.Z)(this,"analytics",void 0),(0,a.Z)(this,"generateCollectionId",void 0),this.db=null,this.analytics=null,this.users="users",this.networks="user-config",this.generateCollectionId="".concat((0,st.Ox)(31),"-").concat(Date.now()),this.init()}return(0,nt.Z)(e,[{key:"init",value:function(){var e=(0,it.ZF)(rt),t=(0,at.IH)(e),n=(0,ot.ad)(e);this.db=n,this.analytics=t}},{key:"getDocument",value:function(e,t){return null===this.db||""===e?null:t?(0,ot.JU)(this.db,e,t):(0,ot.JU)(this.db,e)}},{key:"getCollection",value:function(e){return(0,ot.hJ)(this.db,e)}},{key:"getMany",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ot.PL)(t);case 3:return n=e.sent,r=[],n.docs.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getWhere",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ot.QT)(t);case 3:if(!(n=e.sent).exists()){e.next=8;break}return e.abrupt("return",n.data());case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDocuments",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getCollection(t),e.next=3,this.getMany(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserConfigByWalletAddress",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getDocument(this.networks,t),e.next=3,(0,ot.QT)(n);case 3:return r=e.sent,e.abrupt("return",r.data());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSettingsSubConfig",value:function(){var e=(0,i.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getDocument(this.networks,t),e.next=3,(0,ot.r7)(r,n);case 3:return e.next=5,(0,ot.QT)(r);case 5:return a=e.sent,e.abrupt("return",a.data());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"upsert",value:function(){var e=(0,i.Z)(s().mark((function e(t,n,r){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getDocument(t,n),e.next=3,(0,ot.pl)(a,r);case 3:return e.next=5,this.getWhere(a);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,i.Z)(s().mark((function e(t,n,r){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getDocument(t,n),e.next=3,(0,ot.r7)(a,r);case 3:return e.next=5,this.getWhere(a);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getConfigByWalletAddress",value:function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.getDocument(this.networks,t),e.next=4,this.getWhere(n);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0,"@error"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"insertCandyMachineConfig",value:function(){var e=(0,i.Z)(s().mark((function e(t,n,r,a){var i,o,c,u,l,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("address",r),i=this.getDocument(this.users,r),o=this.getDocument(this.networks,r),e.next=6,(0,ot.QT)(i);case 6:return c=e.sent,e.next=9,(0,ot.QT)(o);case 9:if(u=e.sent,!c.exists()){e.next=29;break}if(!u.exists()){e.next=21;break}return console.log("subExist!"),e.next=15,(0,ot.r7)(o,{candyMachineId:n.candyMachineId||null,candyStartDate:n.candyStartDate,trasuryAddress:n.trasuryAddress,id:n.id,rpcUrl:n.rpcUrl||Ie,mode:n.mode,walletAddress:r});case 15:return e.next=17,(0,ot.QT)(o);case 17:return l=e.sent,e.abrupt("return",l.data());case 21:return e.next=23,(0,ot.pl)(o,{candyMachineId:n.candyMachineId||null,candyStartDate:n.candyStartDate,trasuryAddress:n.trasuryAddress,id:n.id,rpcUrl:n.rpcUrl||Ie,mode:n.mode,walletAddress:r});case 23:return e.next=25,(0,ot.QT)(o);case 25:return d=e.sent,e.abrupt("return",d.data());case 27:e.next=37;break;case 29:return e.next=31,(0,ot.pl)(i,t);case 31:return e.next=33,(0,ot.pl)(o,{candyMachineId:n.candyMachineId||null,candyStartDate:n.candyStartDate,trasuryAddress:n.trasuryAddress,id:n.id,rpcUrl:n.rpcUrl||Ie,mode:n.mode,walletAddress:r});case 33:return e.next=35,(0,ot.QT)(o);case 35:return p=e.sent,e.abrupt("return",p.data());case 37:e.next=43;break;case 39:return e.prev=39,e.t0=e.catch(0),a(e.t0),e.abrupt("return",{});case 43:case"end":return e.stop()}}),e,this,[[0,39]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"seedDatabase",value:function(){var e=(0,i.Z)(s().mark((function e(){var t,n,r,a,o,c,u=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="AKmVvD9QnVgScvTnoQQKythi18mCrxoh8VUobRtTX3kY",n="".concat((0,st.Ox)(31),"-").concat(Date.now()),r=this.getDocument(this.users,t),a=this.getCollection(this.users),o=this.getDocument(this.networks,t),c=this.getCollection(this.networks),console.log("@onDeleteConfigData ..."),e.next=10,(0,ot.PL)(a);case 10:return e.sent.docs.forEach(function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.oe)(u.getDocument(u.users,t.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("@onDeleteSubConfigData ..."),e.next=15,(0,ot.PL)(c);case 15:return e.sent.docs.forEach(function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.oe)(u.getDocument(u.networks,t.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("@onAddConfigData ..."),e.next=20,(0,ot.pl)(r,{id:"config-".concat(n),network:"solana",providedAccount:"AKmVvD9QnVgScvTnoQQKythi18mCrxoh8VUobRtTX3kY",networkId:"solana-".concat(n,"-AKmVvD9QnVgScvTnoQQKythi18mCrxoh8VUobRtTX3kY")});case 20:return console.log("@onAddConfigData ..."),e.next=23,(0,ot.pl)(o,{candyMachineId:Ae,candyStartDate:Te,trasuryAddress:Ce,id:"solana-".concat(n,"-AKmVvD9QnVgScvTnoQQKythi18mCrxoh8VUobRtTX3kY"),rpcUrl:Ie,mode:Oe,walletAddress:"AKmVvD9QnVgScvTnoQQKythi18mCrxoh8VUobRtTX3kY"});case 23:return console.log("done ..."),e.abrupt("return",!0);case 27:return e.prev=27,e.t0=e.catch(0),console.log(e.t0,"@errorSeedingData"),e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ut=new ct,lt=n(87536),dt=n(39920);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=[{register:"candyMachineId",placeholder:"Candy Machine Address",a:"How? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/creating-candy-machine",t:"Candy Machine ID",mdl:"candyMachineId"},{register:"candyMachineStartDate",placeholder:"Candy Machine Start Date",a:"What is that? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/configuration",t:"Start Date (in unixTimestamp)",mdl:"candyStartDate"},{register:"treasuryAccount",placeholder:"Solana Account",a:"What is that? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/configuration",t:"Solana Treasury Account",mdl:"trasuryAddress"},{register:"rpcUrl",placeholder:"RPC Url",a:"What is that? \ud83e\udd14",link:"https://docs.solana.com/cluster/rpc-endpoints",t:"Default: "+Ie,mdl:"rpcUrl"}],gt=(0,f.Z)((function(e){return{"@keyframes gradient":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}},container:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",animation:"$gradient 15s ".concat(e.transitions.easing.easeInOut," infinite"),minHeight:"100vh",padding:"4rem 0",flex:1,zIndex:1e3,backgroundSize:"400% 400%",position:"relative"}}})),mt=function(e){var t=e.onFinish,n=(0,k.Os)(),r=(0,lt.cI)(),o=r.register,c=r.handleSubmit,p=(0,w.useState)({focused:!1,index:0}),f=p[0],h=p[1],g=w.useState({candyMachineId:"",candyStartDate:"",trasuryAddress:"",rpcUrl:"",id:"",walletAddress:"",mode:""}),m=(0,I.Z)(g,2),b=m[0],x=m[1],y=w.useState({open:!1,message:"",severity:void 0}),v=(0,I.Z)(y,2),S=v[0],j=v[1],Z=(0,w.useState)(!1),P=Z[0],A=Z[1],O=(0,w.useState)(!1),C=O[0],D=O[1],R=(0,dt.useSprings)(ht.length,(function(e){return f.focused,{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1,zIndex:0,shadow:1,immediate:!1}})),_=(0,I.Z)(R,2),E=_[0],K=_[1],N=function(e,t){h({focused:1===t,index:e})},U=function(){var e=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.getUserConfigByWalletAddress(n.publicKey.toBase58());case 3:t=e.sent,Object.keys(t).length>0&&x(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0,"@errorWhenGetSubConfig");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){K.start((function(e){return f.focused&&f.index===e?{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1.1,zIndex:1,shadow:15,immediate:function(e){return"y"===e||"zIndex"===e}}:{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1,zIndex:0,shadow:1,immediate:!1}}))}),[K,f]),(0,w.useEffect)((function(){U()}),[null]);var W=function(){var e=(0,i.Z)(s().mark((function e(){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),D(!0),e.prev=2,e.next=5,n.publicKey.toBase58();case 5:return r=e.sent,e.next=8,ut.updateSettingsSubConfig(r,b);case 8:a=e.sent,Object.keys(a).length>0&&(j({open:!0,message:"Successfull Updating the data!",severity:"success"}),A(!1),D(!1),t()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),D(!1),j({open:!0,message:e.t0.message||"Some Error Occured",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return(0,ke.jsxs)("form",{onSubmit:c(W),children:[E.map((function(e,t){return(0,ke.jsxs)(d.Z,{direction:"column",spacing:2,children:[(0,ke.jsxs)(l.Z,{color:"white",mt:2,children:[ht[t].t," | ",(0,ke.jsx)("a",{href:ht[t].link,target:"_blank",rel:"noreferrer",style:{textDecoration:"underline",color:"blue"},children:ht[t].a})]}),(0,ke.jsx)(dt.animated.input,ft(ft({style:e,disabled:C},o(ht[t].register)),{},{placeholder:ht[t].placeholder,onFocus:function(){return N(t,1)},onBlur:function(){return N(t,0)},value:null!==b?b[ht[t].mdl]:"Loading ...",onChange:function(e){x(ft(ft({},b),{},(0,a.Z)({},ht[t].mdl,e.target.value)))}}))]},t)})),(0,ke.jsx)(u.ZP,{container:!0,direction:"row",alignItems:"end",justifyContent:"end",justifyItems:"end",children:(0,ke.jsx)(ve.Z,{loading:P,sx:{zIndex:1e3,backgroundColor:"#FBA724",height:45,borderRadius:2,"&:hover":{backgroundColor:"darkorange"},mt:2,alignSelf:"end"},type:"submit",children:(0,ke.jsx)(l.Z,{color:"white",fontWeight:"bold",children:"Update"})})}),(0,ke.jsx)(M.Z,{open:S.open,autoHideDuration:6e3,onClose:function(){return j(ft(ft({},S),{},{open:!1}))},children:(0,ke.jsx)(T.Z,{onClose:function(){return j(ft(ft({},S),{},{open:!1}))},severity:S.severity,children:S.message})})]})};function bt(e){var t=e.anchor,n=e.toggleDrawer,r=e.open,a=e.onFinish,i=gt();return(0,ke.jsx)(w.Fragment,{children:(0,ke.jsx)(et.ZP,{anchor:"left",open:r,onClose:n(t,!1),sx:{width:450,flexShrink:0,"& .MuiDrawer-paper":{width:450,boxSizing:"border-box"}},children:(0,ke.jsx)(c.Z,{component:"div",p:3,className:i.container,children:(0,ke.jsxs)(d.Z,{direction:"column",spacing:3,alignItems:"center",justifyContent:"center",justifyItems:"center",children:[(0,ke.jsxs)(d.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,ke.jsx)(l.Z,{component:"div",variant:"h2",color:"white",alignItems:"center",children:"Settings"}),(0,ke.jsx)($e.Z,{sx:{color:"white"}})]}),(0,ke.jsx)(mt,{onFinish:function(){n(t,!1),a()}})]})})})},"aa202")}var xt=n(90948),yt=n(37789),vt=n(92396),kt=n(54484),wt=n(60197),St=n(14621),jt=n(57249),Zt=n(87918),Pt=n(19370),Mt=n(44472),Tt=n(83578),It=n(74231),At=n(95496);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:650,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:4},Rt=(0,xt.ZP)("div")((function(e){var t=e.theme,n=e.ownerState;return Ct(Ct({backgroundColor:"dark"===t.palette.mode?t.palette.grey[700]:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},n.active&&{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"}),n.completed&&{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"})})),_t=(0,xt.ZP)(St.Z)((function(e){var t,n=e.theme;return t={},(0,a.Z)(t,"&.".concat(jt.Z.alternativeLabel),{top:22}),(0,a.Z)(t,"&.".concat(jt.Z.active),(0,a.Z)({},"& .".concat(jt.Z.line),{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"})),(0,a.Z)(t,"&.".concat(jt.Z.completed),(0,a.Z)({},"& .".concat(jt.Z.line),{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"})),(0,a.Z)(t,"& .".concat(jt.Z.line),{height:3,border:0,backgroundColor:"dark"===n.palette.mode?n.palette.grey[800]:"#eaeaf0",borderRadius:1}),t}));function Et(e){var t=e.active,n=e.completed,r=e.className,a={1:(0,ke.jsx)($e.Z,{}),2:(0,ke.jsx)(yt.Z,{}),3:(0,ke.jsx)(vt.Z,{}),4:(0,ke.jsx)(kt.Z,{}),5:(0,ke.jsx)(wt.Z,{})};return(0,ke.jsx)(Rt,{ownerState:{completed:n,active:t},className:r,children:a[String(e.icon)]})}var Kt=["Input your Candy Machine ID","Input your start date","Input your treasury address","Input your RPC Url","Setup Your Network"],Nt=[{register:"candyMachineId",placeholder:"Candy Machine Address",a:"How? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/creating-candy-machine",t:"Candy Machine ID"},{register:"candyMachineStartDate",placeholder:"Candy Machine Start Date",a:"What is that? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/configuration",t:"Start Date (in unixTimestamp)"},{register:"treasuryAccount",placeholder:"Solana Account",a:"What is that? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/configuration",t:"Solana Treasury Account"},{register:"rpcUrl",placeholder:"Default: "+Ie,a:"What is that? \ud83e\udd14",link:"https://docs.metaplex.com/candy-machine-v2/configuration",t:"Rpc Url"}],Ut=[{id:1,title:"Devnet",value:"devnet",rpcUrl:"https://api.devnet.solana.com"},{id:2,title:"Testnet",value:"testnet",rpcUrl:"https://api.testnet.solana.com"},{id:3,title:"Mainnet - Beta",value:"mainnet-beta",rpcUrl:"https://solana-api.projectserum.com"}],Wt=function(e){var t=e.index,n=e.onNext,r=e.onPrev,o=e.connection,c=e.onFinish,f=(0,k.Os)(),h=It.Ry({candyMachineId:It.Z_().required(),candyMachineStartDate:It.Rx().required(),treasuryAccount:It.Z_().required()}).required(),g=(0,lt.cI)({defaultValues:{candyMachineId:"",candyMachineStartDate:"",treasuryAccount:""},resolver:(0,At.X)(h)}),m=g.register,b=g.handleSubmit,x=g.getValues,y=w.useState({open:!1,message:"",severity:void 0}),v=(0,I.Z)(y,2),S=v[0],j=v[1],Z=w.useState({mode:"",rpcUrl:""}),P=(0,I.Z)(Z,2),O=P[0],C=P[1],D=w.useState(1),R=(0,I.Z)(D,2),_=R[0],E=R[1],K=w.useState({focused:!1,index:0}),N=(0,I.Z)(K,2),U=N[0],W=N[1],B=w.useState(!1),V=(0,I.Z)(B,2),z=V[0],F=V[1],G=w.useState({candyMachineId:"",candyMachineStartDate:"",treasuryAccount:"",rpcUrl:""}),L=(0,I.Z)(G,2),Y=L[0],Q=L[1],H=(0,dt.useSprings)(1,(function(e){return U.focused,{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1,zIndex:0,shadow:1,immediate:!1}})),q=(0,I.Z)(H,2),X=q[0],J=q[1],$=function(e,t){W({focused:1===t,index:e})};w.useEffect((function(){J.start((function(e){return U.focused&&U.index===e?{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1.1,zIndex:1,shadow:15,immediate:function(e){return"y"===e||"zIndex"===e}}:{height:45,borderRadius:8,width:350,border:"0px",padding:10,scale:1,zIndex:0,shadow:1,immediate:!1}}))}),[J,U]);var ee=function(){var e=(0,i.Z)(s().mark((function e(){var r,a,i,u,l,d,p,h,g,m,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F(!0),""!==(r=Y[Nt[4===t?3:t].register])){e.next=7;break}return j({open:!0,message:"".concat(Nt[4===t?3:t].t," cannot be empty! \ud83d\ude21"),severity:"error"}),F(!1),e.abrupt("return");case 7:if(0!==t){e.next=20;break}return a=new A.zt(o,f,{preflightCommitment:"processed"}),e.next=11,A.$r.fetchIdl(ae,a);case 11:return i=e.sent,u=new A.$r(i,ae,a),e.next=15,u.account.candyMachine.fetch(r);case 15:if(e.sent.data){e.next=20;break}return j({open:!0,message:"".concat(Nt[3===t?2:t].t," is not a valid Candy Machine"),severity:"error"}),F(!1),e.abrupt("return");case 20:if(1!==t){e.next=25;break}return l=parseInt(r),new Date(l)instanceof Date&&(n(),F(!1)),e.abrupt("return");case 25:if(2!==t){e.next=34;break}return d=new A.rV.PublicKey(r),e.next=29,A.rV.PublicKey.isOnCurve(d);case 29:if(e.sent){e.next=34;break}return j({open:!0,message:"Address ".concat(r," is not valid solana address"),severity:"error"}),F(!1),e.abrupt("return");case 34:if(3!==t){e.next=43;break}if(["https://api.devnet.solana.com","https://api.testnet.solana.com","https://mainnet.neonevm.org","https://mainnet.neonevm.org"].includes(Y.rpcUrl)){e.next=40;break}return j({open:!0,message:"Address ".concat(Y.rpcUrl," is not valid solana RPC url"),severity:"error"}),F(!1),e.abrupt("return");case 40:Y.rpcUrl.includes("mainnet")&&(E(3),C({mode:Ut[2].value,rpcUrl:Y.rpcUrl})),Y.rpcUrl.includes("devnet")&&(E(1),C({mode:Ut[0].value,rpcUrl:Y.rpcUrl})),Y.rpcUrl.includes("testnet")&&(E(2),C({mode:Ut[1].value,rpcUrl:Y.rpcUrl}));case 43:if(4!==t){e.next=57;break}return p=ut.generateCollectionId,e.next=47,f.publicKey.toBase58();case 47:return h=e.sent,g={candyMachineId:Y.candyMachineId,candyStartDate:Y.candyMachineStartDate,id:"solana-".concat(p,"-").concat(h),mode:O.mode,rpcUrl:""===Y.rpcUrl?Ie:Y.rpcUrl,trasuryAddress:Y.treasuryAccount,walletAddress:f.publicKey.toBase58()},m={id:"config-".concat(p),network:"solana",networkId:"solana-".concat(p,"-").concat(h),providedAccount:h},console.log(m,g,"@DATA!!"),e.next=53,ut.insertCandyMachineConfig(m,g,h,(function(e){F(!1),j({open:!0,message:e.message,severity:"error"})}));case 53:return b=e.sent,Object.keys(b).length>0&&c(),F(!1),e.abrupt("return");case 57:n(),F(!1),e.next=67;break;case 61:return e.prev=61,e.t0=e.catch(0),console.log(e.t0,"@error?"),F(!1),j({open:!0,message:e.t0.message.includes("Invalid account discriminator")?"Address ".concat(x(Nt[4===t?3:t].register)," is not a valid candy machine"):e.t0.message||"".concat(Nt[4===t?3:t].t," field getting error"),severity:"error"}),e.abrupt("return");case 67:case"end":return e.stop()}}),e,null,[[0,61]])})));return function(){return e.apply(this,arguments)}}();return(0,ke.jsxs)("form",{onSubmit:b((function(e){console.log(e)})),children:[(0,ke.jsxs)(u.ZP,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",justifyItems:"center",children:[(0,ke.jsx)(u.ZP,{item:!0,children:4!==t?X.map((function(e,n){return(0,ke.jsxs)(d.Z,{direction:"column",spacing:2,children:[(0,ke.jsx)(l.Z,{color:"white",mt:2,textAlign:"center",children:Nt[t].t}),(0,ke.jsx)(dt.animated.input,Ct(Ct({style:e},m(Nt[t].register,{required:!0})),{},{value:Y[Nt[t].register],onChange:function(e){return Q(Ct(Ct({},Y),{},(0,a.Z)({},Nt[t].register,e.target.value)))},placeholder:Nt[t].placeholder,onFocus:function(){return $(n,1)},onBlur:function(){return $(n,0)}}))]},n)})):(0,ke.jsxs)(d.Z,{direction:"column",spacing:2,mt:3,children:[(0,ke.jsx)(l.Z,{color:"white",textAlign:"center",fontWeight:"bold",fontSize:21,children:"Select Your Network"}),(0,ke.jsx)(d.Z,{direction:"row",spacing:3,children:Ut.map((function(e){return(0,ke.jsx)(Zt.Z,{label:(0,ke.jsx)(l.Z,{color:"white",textAlign:"center",children:e.title}),onClick:function(){return E((t=e).id),void C({mode:t.value,rpcUrl:t.rpcUrl});var t},variant:"outlined",sx:{bgcolor:e.id===_?"primary.main":"primary.900",borderRadius:2}},e.id)}))})]})}),(0,ke.jsx)(u.ZP,{item:!0,children:(0,ke.jsxs)(d.Z,{direction:"row",spacing:5,children:[(0,ke.jsx)(p.Z,{sx:{zIndex:1e3,backgroundColor:"#FBA724",height:45,borderRadius:2,"&:hover":{backgroundColor:"darkorange"},mt:2,alignSelf:"end"},disabled:!t>0,onClick:r,children:(0,ke.jsx)(l.Z,{color:"white",fontWeight:"bold",children:"Prev Step"})}),(0,ke.jsx)(ve.Z,{loading:z,sx:{zIndex:1e3,backgroundColor:z?"#FFC0B7":"#FBA724",height:45,borderRadius:2,"&:hover":{backgroundColor:"darkorange"},mt:2,alignSelf:"end"},onClick:ee,children:(0,ke.jsx)(l.Z,{color:"white",fontWeight:"bold",children:t>=4?"Done":"Next Step"})})]})})]}),(0,ke.jsx)(M.Z,{open:S.open,autoHideDuration:6e3,onClose:function(){return j(Ct(Ct({},S),{},{open:!1}))},children:(0,ke.jsx)(T.Z,{onClose:function(){return j(Ct(Ct({},S),{},{open:!1}))},severity:S.severity,children:S.message})})]})};function Bt(e){var t=e.open,n=e.handleClose,r=e.connection,a=e.onFinish,i=w.useState(0),o=(0,I.Z)(i,2),s=o[0],u=o[1];return(0,ke.jsx)(S.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,ke.jsxs)(c.Z,{sx:Dt,children:[(0,ke.jsx)(Pt.Z,{alternativeLabel:!0,activeStep:s,connector:(0,ke.jsx)(_t,{}),children:Kt.map((function(e){return(0,ke.jsx)(Mt.Z,{children:(0,ke.jsx)(Tt.Z,{StepIconComponent:Et,children:(0,ke.jsx)(l.Z,{color:"white",children:e})})},e)}))}),(0,ke.jsx)(Wt,{index:s,onNext:function(){4!==s&&u(s+1)},onPrev:function(){0!==s&&u(s-1)},connection:r,onFinish:function(){n(),a()}})]})})}var Vt=n(98638),zt=n(93946),Ft=n(95537),Gt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:450,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:4},Lt=function(e){var t=e.open,n=e.handleClose,r=e.desc,a=e.negativeButton,i=e.positivieButton,o=e.title,s=e.isError;return(0,ke.jsx)(S.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:j.Z,BackdropProps:{timeout:500},children:(0,ke.jsx)(Z.Z,{in:t,children:(0,ke.jsxs)(c.Z,{sx:Gt,children:[(0,ke.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,ke.jsx)(l.Z,{component:"div",variant:"h2",color:"white",textAlign:"center",children:o}),(0,ke.jsx)(zt.Z,{onClick:n,children:(0,ke.jsx)(Ft.Z,{sx:{color:"white"}})})]}),(0,ke.jsx)(l.Z,{component:"div",variant:"h4",color:"white",textAlign:"center",mt:5,mb:5,children:r}),(0,ke.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:s?"center":"end",spacing:2,mt:2,children:[!s&&(0,ke.jsx)(p.Z,{onClick:a,sx:{zIndex:1e3,backgroundColor:"red",borderRadius:2,"&:hover":{backgroundColor:"darkorange"},color:"white"},children:"Cancel"}),(0,ke.jsx)(p.Z,{onClick:i,sx:{zIndex:1e3,bgcolor:"primary.light",borderRadius:2,"&:hover":{backgroundColor:"darkorange"},color:"white"},children:"Confirm"})]})]})})})},Yt=n(52472);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=(0,f.Z)((function(e){return{"@keyframes gradient":{"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}},"@keyframes animateUp":{"0%":{transform:"translateY(0) rotate(0deg)",opacity:.5,borderRadius:22,position:"absolute"},"50%":{transform:"translateY(-100vh) rotate(720deg)",opacity:0,borderRadius:"50%"},"100%":{transform:"translateY(0) rotate(0deg)",opacity:.5,borderRadius:22}},"@keyframes animateDown":{"0%":{transform:"translateY(0) rotate(0deg)",opacity:.5,borderRadius:22,position:"absolute"},"50%":{transform:"translateY(100vh) rotate(-720deg)",opacity:0,borderRadius:"50%"},"100%":{transform:"translateY(0) rotate(0deg)",opacity:.5,borderRadius:22}},container:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",animation:"$gradient 15s ".concat(e.transitions.easing.easeInOut," infinite"),minHeight:"100vh",padding:"4rem 0",flex:1,zIndex:1e3,backgroundSize:"400% 400%",position:"relative"},stickyCard:{opacity:.5,position:"absolute",left:function(e){return e.left||"10%"},bottom:function(e){return e.bottom||"0"},borderRadius:22,overflow:"hidden","&:before":{transition:"opacity 2s"}},stickyCardDown:{opacity:.5,position:"absolute",right:function(e){return e.right||"10%"},top:function(e){return e.top||"0"},borderRadius:22,overflow:"hidden",animation:"$animateDown 25s ".concat(e.transitions.easing.sharp," infinite"),"&:before":{transition:"opacity 2s"}}}})),Xt=[{id:1,style:{bottom:"10%",left:"0",img:"/assets/dgp/11.png"}},{id:2,style:{bottom:"20%",left:"40%",img:"/assets/dgp/10.png"}},{id:3,style:{bottom:"14%",left:"70%",img:"/assets/dgp/13.png"}}],Jt=[{id:1,style:{top:"17%",right:"0",img:"/assets/dgp/12.png"}}],$t=function(e){var t=e.bottom,n=e.left,r=e.img;return(0,ke.jsx)(c.Z,{sx:{opacity:.5,position:"absolute",left:n,bottom:t,borderRadius:22,overflow:"hidden",display:{xs:"none",md:"flex"},zIndex:0},children:(0,ke.jsx)(y(),{src:r,width:250,height:250,alt:"sticky-image-1",layout:"fixed"})})},en=function(e){var t=e.top,n=e.right,r=e.img;return(0,ke.jsx)(c.Z,{sx:{opacity:.5,position:"absolute",right:n,top:t,borderRadius:22,overflow:"hidden",zIndex:0},children:(0,ke.jsx)(y(),{src:r,width:250,height:250,alt:"sticky-image-1",layout:"fixed"})})},tn=function(e){try{return new A.rV.PublicKey(e)}catch(t){return void console.log("Failed to construct CandyMachineId",t)}},nn=function(){var e=qt({bottom:void 0,left:void 0}),t=((0,k.Os)().disconnect,(0,Je.useRouter)(),(0,k.Os)()),n=(0,w.useState)(!1),r=n[0],a=n[1],o=(0,w.useState)(),f=o[0],h=o[1],m=(0,w.useState)(!1),x=m[0],y=m[1],S=(0,w.useState)(!1),j=S[0],Z=S[1],P=(0,w.useState)(""),M=P[0],T=(P[1],(0,w.useState)(0)),I=T[0],O=T[1],C=(0,w.useState)(0),R=C[0],_=C[1],E=(0,w.useState)(!1),K=E[0],N=E[1],U=(0,w.useState)(!1),W=U[0],B=U[1],V=(0,w.useState)(!1),z=V[0],F=V[1],G=(0,w.useState)({open:!1,message:"",severity:void 0}),L=G[0],Y=G[1],Q=(0,w.useState)(),H=Q[0],q=Q[1],J=(0,w.useState)(!1),$=J[0],ee=J[1],te=(0,w.useState)({txTimeout:3e4,candyMachineId:null,connection:new A.rV.Connection(Ie||A.rV.clusterApiUrl("mainnet-beta")),network:Oe,rpcHost:Ie}),ne=te[0],re=te[1],ae=(0,w.useState)(!1),ie=ae[0],oe=ae[1],se=(0,w.useState)(null),ue=se[0],le=(se[1],Boolean(ue),(0,Vt.ZP)()),de=le.closeDialog,pe=le.openDialog,fe=le.showDialog,he=le.desc,ge=le.init,me=le.title,be=le.errorDialog,xe=function(){var e=(0,i.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0),3e4,t=new A.rV.Connection(A.rV.clusterApiUrl("mainnet-beta")),n=tn(Ae),re((function(e){return Ht(Ht({},e),{},{txTimeout:3e4,candyMachineId:n,connection:t,network:"mainnet-beta",rpcHost:Ie})})),B(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=(0,w.useMemo)((function(){if(t&&t.publicKey&&t.signAllTransactions&&t.signTransaction)return{publicKey:t.publicKey,signAllTransactions:t.signAllTransactions,signTransaction:t.signTransaction}}),[t]),ve=(0,w.useCallback)((0,i.Z)(s().mark((function e(){var t,n,r,a,i,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:"confirmed",ye){e.next=3;break}return e.abrupt("return");case 3:if(n=new D.Connection(ne.rpcHost,t),!ne.candyMachineId){e.next=23;break}return e.prev=5,console.log("@init"),e.next=9,ce(ye,ne.candyMachineId,n);case 9:a=e.sent,O(a.state.itemsAvailable),_(a.state.itemsRemaining),q(a),null!==a&&void 0!==a&&null!==(r=a.state.endSettings)&&void 0!==r&&r.endSettingType.amount?(i=Math.min(a.state.endSettings.number.toNumber(),a.state.itemsAvailable),O(i),a.state.itemsRedeemed<i?_(i-a.state.itemsRedeemed):(_(0),a.state.isSoldOut=!0,N(!0))):_(a.state.itemsRemaining),a.state.isSoldOut&&Z(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),e.t0 instanceof Error?(e.t0.message==="Account does not exist ".concat(ne.candyMachineId)||e.t0.message.startsWith("failed to get info about account"))&&Y({open:!0,message:"RPC failed to load",severity:"error",hideDuration:null}):Y({open:!0,message:"".concat(e.t0),severity:"error",hideDuration:null}),console.log(e.t0);case 21:e.next=24;break;case 23:Y({open:!0,message:"Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!",severity:"error",hideDuration:null});case 24:case"end":return e.stop()}}),e,null,[[5,17]])}))),[ye,ne.candyMachineId,ne.rpcHost]),we=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.signOut)({redirect:!1,callbackUrl:"/"});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0,"@error"),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:return e.next=4,ve();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.useEffect)((function(){t.connected&&null===ne.candyMachineId&&(console.log("@init!!"),xe())}),[ne.candyMachineId,t.connected,t.publicKey]),(0,w.useEffect)((function(){(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ye){e.next=5;break}return e.next=3,ne.connection.getBalance(ye.publicKey);case 3:t=e.sent,h(t/D.LAMPORTS_PER_SOL);case 5:case"end":return e.stop()}}),e)})))()}),[ye,ge,pe,ne.connection]),(0,w.useEffect)((function(){null!==ne.candyMachineId?ve():pe||(ge("You need to setup candy machine config","No candy machine found",!0),pe())}),[ne.candyMachineId]),(0,ke.jsx)(Yt.Z,{children:(0,ke.jsxs)("div",{className:e.container,children:[(0,ke.jsxs)(g(),{children:[(0,ke.jsx)("title",{children:"Dashboard"}),(0,ke.jsx)("meta",{name:"description",content:"NFTs Generator for Duck Goes Places"}),(0,ke.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,ke.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,ke.jsxs)(c.Z,{sx:{zIndex:999},children:[(0,ke.jsx)(u.ZP,{container:!0,direction:"column",spacing:3,children:(0,ke.jsxs)(u.ZP,{item:!0,children:[(0,ke.jsx)(l.Z,{variant:"h1",textAlign:"center",fontWeight:"bolder",className:b().welcome,style:{fontFamily:"Boldenvan",color:"white"},children:"Welcome To DGP NFT"}),(0,ke.jsx)(l.Z,{variant:"h3",textAlign:"center",color:"white",children:"Mint your DGP Now!"})]})}),(0,ke.jsxs)("div",{className:b().tron,children:[(0,ke.jsx)("p",{className:b().duckText,children:"Duck Goes Places"}),(0,ke.jsx)(d.Z,{direction:"column",spacing:2,alignItems:"start",justifyContent:"start",children:(0,ke.jsxs)(d.Z,{direction:"row",spacing:2,alignItems:"center",justifyContent:"end",children:[(0,ke.jsx)(p.Z,{disabled:!j&&!K&&(null===H||void 0===H?void 0:H.state.goLiveDate),sx:{zIndex:1e3,backgroundColor:j||K||null===H||void 0===H||!H.state.goLiveDate?"#FBA724":"#919191",px:3,py:2.5,borderRadius:4,"&:hover":{backgroundColor:"darkorange"}},onClick:function(){null!==ne.candyMachineId?a(!0):oe(!0)},children:(0,ke.jsx)(l.Z,{color:"white",fontWeight:"bold",variant:"h4",children:null!==ne.candyMachineId?"Mint Now":"Setup Config"})}),(0,ke.jsx)("div",{className:b().walletContainer,children:(0,ke.jsx)("ul",{className:b().ulWallet,children:t?(0,ke.jsxs)("div",{className:b().walletAmount,children:[(0,ke.jsxs)(c.Z,{sx:{display:{xs:"none",md:"block"}},children:[(f||0).toLocaleString()," SOL",(0,ke.jsx)(Xe.aD,{className:b().connectWallet})]}),(0,ke.jsx)(Xe.vg,{className:b().disconnectWallet,onClick:(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:case"end":return e.stop()}}),e)})))})]}):(0,ke.jsx)(Xe.aD,{className:b().connectWallet,children:"Connect Wallet"})})})]})}),!j&&!K&&(null===H||void 0===H?void 0:H.state.goLiveDate)&&(0,ke.jsx)(He.ZP,{date:X(null===H||void 0===H?void 0:H.state.goLiveDate),onMount:function(e){return e.completed&&Z(!K)},onComplete:function(){var e=!j||z;e&&H.state.isWhitelistOnly&&(e=!1),z&&H.state.goLiveDate&&H.state.goLiveDate.toNumber()<=(new Date).getTime()/1e3&&F(H.state.isPresale=!1),Z(H.state.isActive=e)},renderer:function(e){return(0,ke.jsx)(qe,Ht({},e))}})]})]}),Xt.map((function(e){return(0,ke.jsx)($t,{bottom:e.style.bottom,left:e.style.left,img:e.style.img},e.id)})),Jt.map((function(e){return(0,ke.jsx)(en,{top:e.style.top,right:e.style.right,img:e.style.img},e.id)})),(0,ke.jsx)(Qe,{handleClose:function(){a(!1)},open:r,solscanInfo:M,alertState:L,onAlertState:function(e){return Y(e)},isMinting:x,itemsRemaining:R,totalMinted:I,onError:function(){a(!0),y(!1)},onFinish:function(){a(!0),y(!1)},onMinting:function(){B(!0),a(!1),y(!0)}}),(0,ke.jsx)(De.Z,{open:W,handleClose:function(){return B(!1)}}),(0,ke.jsx)(bt,{open:$,anchor:"left",toggleDrawer:function(e,t){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&ee(t)}},onFinish:Se}),(0,ke.jsx)(Bt,{open:ie,handleClose:function(){return oe(!1)},connection:ne.connection,onFinish:Se}),(0,ke.jsx)(Lt,{desc:he,title:me,handleClose:de,open:fe,negativeButton:function(){de()},positivieButton:function(){de()},isError:be})]})})}},3918:function(e,t,n){"use strict";n.d(t,{Ox:function(){return a},aG:function(){return r}});n(48764).Buffer;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.length>t){var n=e.substring(0,t-1),r=e.split("").reverse().join("").substring(0,t-2),a="".concat(n," ... ").concat(r);return a}return e},a=function e(t){var n=11;if(t>n)return e(n)+e(t-n);var r=(n=Math.pow(10,t+1))/10;return(""+(Math.floor(Math.random()*(n-r+1))+r)).substring(1)}},94309:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(30729)}])},96939:function(e){e.exports={welcome:"Dashboard_welcome__QTdjE",buttonText:"Dashboard_buttonText__gZGWE",tron:"Dashboard_tron__yt9Wa",duckText:"Dashboard_duckText__VscwE",gradient:"Dashboard_gradient__CLODw",context:"Dashboard_context__e7Fs_",circles:"Dashboard_circles__3kLDx",animate:"Dashboard_animate__YSRg8",walletAmount:"Dashboard_walletAmount__sL8Ln",ulWallet:"Dashboard_ulWallet__zrrTU",walletContainer:"Dashboard_walletContainer__N34Zc",connectWallet:"Dashboard_connectWallet__esJT1",disconnectWallet:"Dashboard_disconnectWallet__57TUr"}},15365:function(){}},function(e){e.O(0,[870,655,339,16,338,468,145,450,176,247,729,333,380,774,888,179],(function(){return t=94309,e(e.s=t);var t}));var t=e.O();_N_E=t}]);